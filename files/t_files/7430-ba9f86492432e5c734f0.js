"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7430],{77626:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(67294),i=r(11163),o=r(89194),a=r(69843),l=r(71320),u=r(87157);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultVariables,r=void 0===n?o.qi:n,c=e.urlFilterTypes,s=void 0===c?a.Oq:c,d=e.sortByKey,f=void 0===d?a.Wp:d,v=e.isRedirectSearchPage,S=void 0!==v&&v,b=(0,t.useRef)(r),y=(0,t.useRef)(s),p=(0,t.useRef)(f),m=(0,t.useCallback)((function(e){return(0,l.gb)({query:e,defaultVariables:b.current,urlFilterTypes:y.current,sortByKey:p.current})}),[]),E=(0,t.useCallback)((function(e){return(0,l.FU)({query:e,defaultVariables:b.current,urlFilterTypes:y.current,sortByKey:p.current})}),[]),g=(0,i.useRouter)(),h=g.push,P=g.asPath,C=g.pathname,O=g.query,L=(0,t.useState)(E(O)),A=L[0],T=L[1],w=(0,t.useCallback)((function(e){var n=S?"/search":C,r=S?"/search":P.split("?")[0],t=m(e),i="".concat(n,"?").concat(t),o="".concat(r,"?").concat(t);h(i,o,{shallow:!0,scroll:!1})}),[P,C]);return(0,t.useEffect)((function(){var e=function(e){if(e.includes(P.split("?")[0])){var n=new URL("".concat((0,u.or)()).concat(e)),r=new URLSearchParams(n.search),t=Object.fromEntries(r.entries());T(E(t))}};return g.events.on("routeChangeStart",e),function(){g.events.off("routeChangeStart",e)}}),[E,P,g]),{onUpdateQuery:w,urlQuery:A}}},99372:function(e,n,r){r.d(n,{KN:function(){return l},a2:function(){return u},Eb:function(){return c},TR:function(){return s},qi:function(){return d},vK:function(){return f}});var t=r(52209),i=r(95990);function o(){var e=(0,t.Z)(["\n  query GetActiveChallengesWithNames {\n    getActiveChallenges {\n      challenges {\n        id\n        name\n        expirationDate\n      }\n    }\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,t.Z)(["\n  query SearchTags($setsInput: SearchSetsInput!) {\n    allPlayers {\n      size\n      data {\n        id\n        name\n      }\n    }\n    allTeams {\n      size\n      data {\n        id\n        name\n      }\n    }\n    allSeries @client {\n      data {\n        id\n        name\n      }\n    }\n    getActiveChallenges {\n      challenges {\n        id\n        name\n        expirationDate\n      }\n    }\n    searchSets(input: $setsInput) {\n      searchSummary {\n        data {\n          ... on Sets {\n            data {\n              id\n              ... on Set {\n                flowName\n                setVisualId\n                flowSeriesNumber\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}var l=["byLeagues","byPlayers","byTeams","byTagNames","bySets","bySeries","byActiveChallenge"],u={LEAGUES:"byLeagues",TEAMS:"byTeams",PLAYERS:"byPlayers",TAGS:"byTagNames",SETS:"bySets",SERIES:"bySeries",ACTIVE_CHALLENGE:"byActiveChallenge"},c={IDLE:"IDLE",FETCHING:"FETCHING",ERROR:"ERROR",SUCCESS:"SUCCESS"},s=(0,i.ZP)(a()),d=((0,i.ZP)(o()),{setsInput:{}}),f={ALL:["LEAGUES","TEAMS","PLAYERS","SETS"],LEAGUES:"LEAGUES",TEAMS:"TEAMS",PLAYERS:"PLAYERS",TAGS:"TAGS",SETS:"SETS",SERIES:"SERIES",ACTIVE_CHALLENGE:"ACTIVE_CHALLENGE"}},60582:function(e,n,r){r.d(n,{Z:function(){return P}});var t=r(20273),i=r(67294),o=r(46829),a=r(91717),l=r(34640),u=r(99372),c=r(92809),s=r(96486),d=r(56420),f=r(81948);function v(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){(0,c.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var b=function(e){var n=e.labelConfig;return e.label=n.name,e},y=function(e){var n,r=e.filters,t=e.data,i=e.filter,o=e.label,a=e.valueKey,l=e.nameKey,u=e.transform,c=void 0===u?b:u,d=null!==(n=null===r||void 0===r?void 0:r[i])&&void 0!==n?n:[];return(0,s.uniqBy)(t,(function(e){return e.id})).map((function(e){var n;return c({filter:i,value:e[a],labelConfig:S(S({},e),{},{type:o,name:null!==(n=e[l])&&void 0!==n?n:e.name,prefixed:"".concat(o,": ").concat(l?e[l]:e.name)}),isSelected:d.includes(e.id)})}))},p=function(e,n){var r=(0,s.groupBy)(e,(function(e){return e.filter}));return(n?n.map((function(e){return u.a2[e]})):u.KN).reduce((function(e,n){var t=r[n];return e[n]=t?(0,s.uniq)(t.map((function(e){return e.value}))):[],e}),{})},m=function(e,n){return Number(d.LS[e.setVisualId])===Number(d.LS[n.setVisualId])?e.flowName.localeCompare(n.flowName):Number(d.LS[e.setVisualId])-Number(d.LS[n.setVisualId])},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,t.Z)(e).sort(m)},g=function(e){return null===e||void 0===e?void 0:e.map((function(e){return S(S({},e),{},{id:(0,f.H)(e.id)})}))},h=function(e){var n;return S(S({},e),{},{bySeries:null===e||void 0===e||null===(n=e.bySeries)||void 0===n?void 0:n.map((function(e){return(0,f.H)(e)}))})},P=function(){var e,n,r,c,s,f,v,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=S.query,m=void 0===b?u.TR:b,P=S.variables,C=void 0===P?u.qi:P,O=S.filters,L=S.onFiltersChange,A=S.types,T=void 0===A?u.vK.ALL:A,w=S.t,Z=(0,a.gV)(),I=(0,i.useState)(u.Eb.IDLE),N=I[0],R=I[1],j=(0,o.useQuery)(m,{variables:C}),K=j.loading,G=j.error,D=j.data;(0,i.useEffect)((function(){K?R(u.Eb.FETCHING):G?R(u.Eb.ERROR):D&&R(u.Eb.SUCCESS)}),[D,G,K]);var F=function(e){var n=e.labelConfig,r=n.setVisualId&&w(d.zC[n.setVisualId]),t=n.name,i=3===n.flowSeriesNumber?w("PageSearch.FilterPanel.filterGroups.sets.summerSeries2021.label"):w("PageSearch.FilterPanel.filterGroups.sets.series",{seriesNumber:n.flowSeriesNumber});return e.label="".concat(r,": ").concat(t," ").concat(i),e},k=y({filters:O,data:null===D||void 0===D||null===(e=D.allPlayers)||void 0===e?void 0:e.data,filter:"byPlayers",label:"Player",valueKey:"id"}),V=y({filters:O,data:null===D||void 0===D||null===(n=D.allTeams)||void 0===n?void 0:n.data,filter:"byTeams",label:"Team",valueKey:"id"}),x=E(null===D||void 0===D||null===(r=D.searchSets)||void 0===r||null===(c=r.searchSummary)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.data),H=y({filters:O,data:x,filter:"bySets",label:"Set",valueKey:"id",nameKey:"flowName",transform:F}),_=g(null===D||void 0===D||null===(f=D.allSeries)||void 0===f?void 0:f.data),q=y({filters:h(O),data:(null===Z||void 0===Z?void 0:Z.seriesSummer2021)?_:null===_||void 0===_?void 0:_.filter((function(e){return"Summer 2021"!==e.name})),filter:"bySeries",label:"Series",valueKey:"id"}),U=y({filters:O,data:(0,l.u_)(null===D||void 0===D||null===(v=D.getActiveChallenges)||void 0===v?void 0:v.challenges),filter:"byActiveChallenge",label:"Active Challenge",valueKey:"id"}),M=[].concat((0,t.Z)(T.includes(u.vK.PLAYERS)?k:[]),(0,t.Z)(T.includes(u.vK.TEAMS)?V:[]),(0,t.Z)(T.includes(u.vK.SETS)?H:[]),(0,t.Z)(T.includes(u.vK.SERIES)?q:[]),(0,t.Z)(T.includes(u.vK.ACTIVE_CHALLENGE)?U:[])),z=function(e){var n=p(e,T);L(n)};return{multiSelectFsm:N,multiSelectOptions:M,onMultiSelectChange:z,FS:u.Eb}}},97788:function(e,n,r){r.d(n,{J:function(){return b}});var t=r(8132),i=r(92809),o=r(85893),a=(r(67294),r(43423)),l=r(8997),u=r(85304),c=r(17616),s=r(96946),d=r(84952),f=r(99254);function v(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var b=(0,l.ZP)(g).withConfig({displayName:"InputSelect",componentId:"a1epp8-0"})(["&&{[class*='menu']{z-index:5;}}"]),y=function(e){return(0,o.jsx)(u.y.DropdownIndicator,S(S({},e),{},{children:(0,o.jsx)(s.Z.Angle,{size:16,color:f.ZP.color.grey[700]})}))},p={fontFamily:f.ZP.fontFamilies.shapiro,fontSize:f.ZP.fontSize[12],color:f.ZP.color.black[300],lineHeight:f.ZP.fontSize[16]},m=function(e){return S(S({},e),{},{borderRadius:0,colors:S(S({},e.colors),{},{primary:f.ZP.color.brand[500],primary25:f.ZP.color.white})})},E={placeholder:function(e){return S(S(S({},e),p),{},{color:f.ZP.color.grey[700]})},input:function(e){return S(S(S({},e),p),{},{color:f.ZP.color.grey[700]})},container:function(e){return S(S(S({},e),p),{},{height:"100%"})},valueContainer:function(e){return S(S(S({},e),p),{},{maxHeight:"6rem",overflowY:"auto"})},control:function(e){return S(S(S({},e),p),{},{backgroundColor:"transparent",borderColor:f.ZP.color.white,borderStyle:"solid",borderWidth:"1px",boxShadow:"none",height:"100%"})},option:function(e,n){return S(S(S({},e),p),{},{color:n.isFocused?f.ZP.typeColors.black:f.ZP.typeColors.white,paddingTop:"12px",paddingBottom:"12px"})},menu:function(e){return S(S({},e),{},{backgroundColor:f.ZP.color.black[600]})},menuList:function(e){return S(S({},e),{},{maxHeight:"250px"})}};function g(e){var n=e.id,r=e.options,i=e.onChange,l=e.isMulti,u=e.isLoading,s=(0,t.Z)(e,["id","options","onChange","isMulti","isLoading"]),f=(0,a.Z)().track;return(0,o.jsx)(c.ZP,S({id:n,value:null===r||void 0===r?void 0:r.filter((function(e){return e.isSelected})),options:r,onChange:function(e){f(d.CF,{id:n||"INPUT_SELECT_HAS_NO_ID",selected:e}),i(e)},isMulti:l,isLoading:u,styles:E,components:{DropdownIndicator:y},theme:m},s))}g.defaultProps={options:void 0,isMulti:!0,isLoading:!1}}}]);