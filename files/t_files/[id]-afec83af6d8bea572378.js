(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3711],{34511:function(e,t,n){"use strict";var i=n(85893),o=(n(67294),n(8997)),r=n(99254),l=o.ZP.div.withConfig({displayName:"Background__StyledBackground",componentId:"sc-6o48am-0"})(["background-color:",";"],(function(e){return"light"===e.color?r.$_.white:r.$_.trueBlack}));function s(e){var t=e.children,n=e.color;return(0,i.jsx)(l,{color:n,children:t})}s.defaultProps={children:null,color:"light"},t.Z=s},48824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Cn}});var i={};n.r(i),n.d(i,{assignError:function(){return He},assignFetchMoreError:function(){return ze},assignGetListings:function(){return Be},assignSelectedMoment:function(){return Fe},assignSort:function(){return Ge},clearSelectedMoment:function(){return $e}});var o=n(85893),r=n(67294),l=n(99254),s=n(8997),a=n(10308),d=n(20346),c=n(7090),u=n(12401),m=n(91717),p=n(94829),g=n(96486),h=n(87157),v=n(228),f=n(36840),y=n(78215),x=n(35986),b=n(46818),j=n(43423),w=n(2611),P=n(45432),Z=n(49487),_=n(92809),O=n(8132),C=n(89116),S=n(4469),k=n(50261),E=n(96473),M=n(40933),L=n(36523);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=s.ZP.div.withConfig({displayName:"ExternalLinkModal__StyledModalActions",componentId:"sc-1vnfuyv-0"})(["display:grid;grid-gap:",";grid-template-columns:auto auto;align-items:center;justify-content:flex-start;margin-top:",";"],l.eC.gap,l.W0[32]),N=s.ZP.div.withConfig({displayName:"ExternalLinkModal__StyledModalDescription",componentId:"sc-1vnfuyv-1"})(["margin-top:",";margin-bottom:",";color:",";font-family:",";font-size:16px;line-height:24px;& b{text-transform:capitalize;}"],l.W0[16],l.W0[16],l.$_.trueBlack,l.Vl.shapiro),R=S.$u.primary.default,U=S.Iu.medium,A=(0,s.ZP)(E.Z).withConfig({displayName:"ExternalLinkModal__StyledExternalLink",componentId:"sc-1vnfuyv-2"})(["padding:"," ",";background-color:",";border:2px solid ",";",""],U.vertical,U.horizontal,R.base.backgroundColor,R.base.borderColor,d.ZP.links.button);function q(e){var t,n,i=e.isOpen,r=e.closeModal,s=e.externalLink,a=(0,O.Z)(e,["isOpen","closeModal","externalLink"]),d=(0,c.$)().t,u=(0,j.Z)().track,m=function(){u("LeaveViaExternalLink-cancel"),r()},p=null===s||void 0===s||null===(t=s.match(/(http[s]?:\/\/[^/]*)\//))||void 0===t?void 0:t[1],g=null===s||void 0===s||null===(n=s.match(/http[s]?:\/\/([^/]*)\//))||void 0===n?void 0:n[1];return(0,o.jsx)(M.Z,D(D({isOpen:i,onRequestClose:m,contentStyle:{width:"100%"}},a),{},{children:(0,o.jsxs)(L.c7,{children:[(0,o.jsx)(L.dt,{children:(0,o.jsx)(k.Z,{color:l.$_.black[900],onClick:m})}),(0,o.jsxs)(L.Mn,{children:[(0,o.jsx)(L.sO,{children:(0,o.jsx)(L.IS,{children:d("ExternalLinkModal.title")})}),(0,o.jsxs)(L.iE,{children:[(0,o.jsxs)(C.c,{i18nKey:"ExternalLinkModal.header",values:{url:p},children:[(0,o.jsx)("strong",{children:p})," is not affiliated with NBA Top Shot."]}),(0,o.jsx)(N,{children:d("ExternalLinkModal.description")}),(0,o.jsxs)(T,{children:[(0,o.jsx)(w.Z,{onClick:r,transparent:!0,children:d("ExternalLinkModal.cancelButton")}),(0,o.jsx)(A,{trackingId:"LeaveViaExternalLink-confirm",trackingProperties:{destination:s,destinationDomain:g},href:s,color:R.base.color,onClick:r,children:d("ExternalLinkModal.continueButton")})]})]})]})]})}))}q.defaultProps={isOpen:null,closeModal:function(){}};var W=q,B=n(96946),F=(0,s.ZP)(P.Z).withConfig({displayName:"EvaluateMarketMomentLink__StyledRoot",componentId:"sc-1aiyjq6-0"})(["display:flex;justify-content:flex-start;align-items:center;margin:32px 0;color:",";"," @media ","{","}"],l.$_.white,d.ZP.body.bodyMedium,l.w5.tablet,d.ZP.body.bodyLarge),$=(0,s.ZP)(w.Z).withConfig({displayName:"EvaluateMarketMomentLink__StyledButton",componentId:"sc-1aiyjq6-1"})(["display:inline;padding:0 0 2px;text-transform:none;letter-spacing:0;white-space:nowrap;border:none;outline:none;"," @media ","{","}"],d.ZP.body.bodyMedium,l.w5.tablet,d.ZP.body.bodyLarge),H=s.ZP.span.withConfig({displayName:"EvaluateMarketMomentLink__UnderlinedText",componentId:"sc-1aiyjq6-2"})(["border-bottom:1px solid ",";"],l.$_.white),z=s.ZP.img.withConfig({displayName:"EvaluateMarketMomentLink__StyledImage",componentId:"sc-1aiyjq6-3"})(["display:inline-block;margin-right:16px;width:70px;vertical-align:middle;"]),G=s.ZP.div.withConfig({displayName:"EvaluateMarketMomentLink__StyledTooltipWrapper",componentId:"sc-1aiyjq6-4"})(["display:inline-block;margin-left:8px;white-space:normal;"]);var V=function(e){var t=e.setID,n=e.playID,i=(0,c.$)().t,r=(0,j.Z)().track,s=(0,a.dd)().openModal;return(0,o.jsxs)(F,{size:"medium",children:[(0,o.jsx)(z,{src:"/static/img/evaluate-market-logo.svg",alt:"Evaluate.Market Logo"}),(0,o.jsxs)("div",{children:[i("Moment.EvaluateMarket.learnMoreLink")," ",(0,o.jsxs)($,{transparent:!0,variant:"light",onClick:function(){r("EvaluateMarket-openModal"),s({id:"evaluateMarketModal",Comp:W,props:{externalLink:h.FH.href(t,n)}})},children:[(0,o.jsx)(H,{children:"Evaluate.Market"}),(0,o.jsx)(G,{children:(0,o.jsx)(Z.ZP,{content:i("Moment.EvaluateMarket.learnMoreLink.tooltip"),prompt:(0,o.jsx)(B.Z.ExternalLink,{color:l.$_.grey[800],size:10})})})]})]})]})},Q=n(89525),J=n(52497),K=n(79210),X=n(49510),Y=n(48646),ee=n(57223),te=n(55403),ne=s.ZP.div.withConfig({displayName:"UserStockAndSeller__StyledRoot",componentId:"sc-1sq21bh-0"})(["display:grid;grid-template-rows:auto auto;grid-template-columns:1fr auto;grid-auto-flow:column;row-gap:0;column-gap:",";align-items:end;padding-bottom:",";width:100%;border-bottom:1px solid ",";"],l.ZP.spacing[16],l.ZP.spacing[12],l.ZP.color.black[400]),ie=(0,s.ZP)(ee.Z.H4).attrs((function(e){var t=e.count,n=e.theme;return{color:parseInt(t)<10?n.color.coral[500]:n.themeColor.text,as:"span"}})).withConfig({displayName:"UserStockAndSeller__Count",componentId:"sc-1sq21bh-1"})(["margin:0;text-align:right;"]),oe=(0,s.ZP)(ee.Z.H5).attrs((function(e){return{as:"span",color:e.theme.themeColor.text,variant:"alt"}})).withConfig({displayName:"UserStockAndSeller__ForSale",componentId:"sc-1sq21bh-2"})(["margin:0;text-align:right;"]),re=(0,s.ZP)(te.Z).attrs((function(e){var t=e.theme;return{variant:"labelSmall",color:"dark"===t.mode?t.color.grey[700]:t.color.black[300]}})).withConfig({displayName:"UserStockAndSeller__StyledLabel",componentId:"sc-1sq21bh-3"})([""]),le=(0,s.ZP)(P.Z).attrs((function(e){return{color:e.theme.themeColor.text,as:"span",size:"medium"}})).withConfig({displayName:"UserStockAndSeller__StyledText",componentId:"sc-1sq21bh-4"})([""]),se=function(e){var t=e.moment,n=(0,c.$)().t;return(0,o.jsxs)(ne,{children:[(0,o.jsx)(re,{children:n("MomentUserListingDetailed.UserStockAndSeller.soldBy")}),(0,o.jsx)(le,{children:n("MomentUserListingDetailed.UserStockAndSeller.collectors",{count:null===t||void 0===t?void 0:t._userListingOwnerCount})}),(0,o.jsx)(ie,{children:null===t||void 0===t?void 0:t._listingsCount}),(0,o.jsx)(oe,{children:n("MomentUserListingDetailed.UserStockAndSeller.forSale")})]})};se.defaultProps={moment:{}};var ae=se,de=n(66040),ce=n(97657),ue=n(91545),me=n(38878),pe=n(75363),ge=n(98755);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=s.ZP.div.withConfig({displayName:"UserListingPricing__StyledWrapper",componentId:"sc-1u1zikb-0"})(["display:grid;grid-template-columns:1fr;grid-template-columns:auto;gap:32px;width:100%;max-width:400px;"]),ye=s.ZP.div.withConfig({displayName:"UserListingPricing__Row",componentId:"sc-1u1zikb-1"})(["position:relative;display:flex;flex-direction:column;width:fit-content;cursor:",";"],(function(e){return e.$isClickable?"pointer":"default"})),xe=(0,s.ZP)(P.Z).attrs((function(e){var t=e.theme;return{color:"dark"===t.mode?t.color.grey[700]:t.color.black[300],size:"small"}})).withConfig({displayName:"UserListingPricing__StyledText",componentId:"sc-1u1zikb-2"})([""]),be=function(e){var t,n,i,r=e.moment,l=(0,m.gV)(),s=(0,c.$)().t;if(!(null===r||void 0===r?void 0:r.averageSaleData)||!(null===l||void 0===l?void 0:l.momentListingAverageSales))return null;var a=null===r||void 0===r||null===(t=r.averageSaleData)||void 0===t?void 0:t.averagePrice,d=null===r||void 0===r||null===(n=r.averageSaleData)||void 0===n?void 0:n.numSales,u=null===r||void 0===r||null===(i=r.averageSaleData)||void 0===i?void 0:i.numDays;if(!(!!a&&0!==parseInt(a)&&d>=5))return null;var p=(0,de.T4)({value:parseFloat(a),currency:"USD"},!0);return 14===u?(0,o.jsxs)(ye,{children:[(0,o.jsx)(pe.Z,{isMedium:!0,price:p}),(0,o.jsx)(xe,{children:s("EditionListing.AverageSale.tooltip.avgWithDays",{countOfSales:d,countOfDays:u})})]}):(0,o.jsxs)(ye,{children:[(0,o.jsx)(pe.Z,{isMedium:!0,price:p}),(0,o.jsx)(ge.Z,{averageSaleData:null===r||void 0===r?void 0:r.averageSaleData,children:(0,o.jsx)(xe,{children:s("EditionListing.AverageSale.label")})})]})},je=function(e){var t,n,i,l,s=e.moment,a=void 0===s?null:s,d=e.onTopSaleClick,u=void 0===d?function(){}:d,m=(0,c.$)().t,p=(0,j.Z)().track,h=(0,ue.Z)({variables:{input:ve({},(0,me.H)({limit:3,editionSetPlays:[{setID:null===a||void 0===a||null===(t=a.set)||void 0===t?void 0:t.id,playID:null===a||void 0===a||null===(n=a.play)||void 0===n?void 0:n.id}],sortBy:ce.q.PRICE_DESC}))},skip:!(null===a||void 0===a||null===(i=a.set)||void 0===i?void 0:i.id)||!(null===a||void 0===a||null===(l=a.play)||void 0===l?void 0:l.id)}),v=h.fsm,f=h.marketplaceTransactions,y=(0,r.useMemo)((function(){var e;return(0,de.T4)({value:null===f||void 0===f||null===(e=f[0])||void 0===e?void 0:e.price,currency:"USD"},!0)}),[f]);if(null==(null===a||void 0===a?void 0:a._pricing))return null;var x=null===a||void 0===a?void 0:a._pricing,b=x.min,w=x.displayMinLabel;return v===ce.E.FETCHING?null:(0,o.jsxs)(fe,{children:[b&&(0,o.jsxs)(ye,{children:[(0,o.jsx)(pe.Z,{price:(0,de.T4)({value:parseFloat(b),currency:"USD"},!0)}),(0,o.jsx)(xe,{children:w&&m("MomentDetailed.Pricing.label.min")})]}),(0,o.jsx)(be,{moment:a}),!(0,g.isEmpty)(f)&&!!y&&(0,o.jsxs)(ye,{$isClickable:!0,role:"button",onClick:function(){u(),p("p2pListing-topSale-click")},children:[(0,o.jsx)(pe.Z,{isMedium:!0,price:y}),(0,o.jsx)(xe,{children:m("MomentDetailed.Pricing.label.max")})]})]})},we=(s.ZP.div.withConfig({displayName:"Insertsstyles__PurchaseLayout",componentId:"sc-11i7qci-0"})(["display:grid;grid-template-columns:1fr;gap:",";margin-top:",";"],l.ZP.spacing[24],l.ZP.spacing[24]),s.ZP.div.withConfig({displayName:"Insertsstyles__Row",componentId:"sc-11i7qci-1"})(["display:grid;grid-auto-flow:column;gap:",";width:100%;"],l.ZP.spacing[16])),Pe=s.ZP.div.withConfig({displayName:"Insertsstyles__HeaderInsert",componentId:"sc-1g5t7r9-0"})(["display:grid;grid-template-columns:1fr;grid-gap:",";justify-items:start;"],l.ZP.spacing[28]),Ze=n(11163),_e=n(87445),Oe=n(69480),Ce=n(48859),Se=n(76204),ke=n(8460);var Ee=function(){var e=(0,Ze.useRouter)(),t=(0,_e.PM)(null===e||void 0===e?void 0:e.asPath),n=!!(null===t||void 0===t?void 0:t[ke.a]),i=null===t||void 0===t?void 0:t[ke.e],r=(0,Se.Z)({query:Ce.T,variables:{momentId:i},fetchPolicy:"network-only",skip:!n}).moment;return n&&r?(0,o.jsx)(Oe.Z,{moment:r,showPrice:!0}):null},Me=n(40304),Le=n(46829),Ie=n(82488),De=n(67473),Te=n(36353),Ne=n(90200),Re=n(58637),Ue=n(20273),Ae=n(30375);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=(0,Ae.f0)({listing:function(e,t){var n,i,o,r,l,s,a;switch(null===(n=t.data)||void 0===n?void 0:n.type){case"SELECT":case"SET_SORT":return{_momentListings:null!==(i=null===(o=t.data)||void 0===o?void 0:o.listing._momentListings)&&void 0!==i?i:[]};default:return{_momentListings:[].concat((0,Ue.Z)(null!==(r=null===(l=e.listing)||void 0===l?void 0:l._momentListings)&&void 0!==r?r:[]),(0,Ue.Z)(null!==(s=null===(a=t.data)||void 0===a?void 0:a.listing._momentListings)&&void 0!==s?s:[]))}}},pagination:function(e,t){var n,i,o,r;return{isEnabled:!0,rightCursor:null===(n=t.data)||void 0===n?void 0:n.rightCursor,isNextPageAvailable:null===(i=t.data)||void 0===i?void 0:i.isNextPageAvailable,sortBy:null===(o=t.data)||void 0===o?void 0:o.sortBy,limit:null===(r=t.data)||void 0===r?void 0:r.limit}},lowestPrice:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.lowestPrice},listingsCount:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.listingsCount}}),Fe=(0,Ae.f0)({moment:function(e,t){return t.moment}}),$e=(0,Ae.f0)({moment:function(){return null}}),He=(0,Ae.f0)({errorMessage:function(e,t){var n;return null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errorMessage}}),ze=(0,Ae.f0)({pagination:function(e,t){return We(We({},e.pagination),{},{error:null===t||void 0===t?void 0:t.data})}}),Ge=(0,Ae.f0)({sortBy:function(e,t){return t.sort}}),Ve=n(12899),Qe=n(25443);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=(0,Qe.FS)({actions:{setErrorMessage:Qe.Nw.escalateError,reset:Qe.Nw.escalateReset,setMoment:Qe.Nw.setMoment,setMomentErrorMessage:Qe.Nw.escalateMomentErrorMessage}}),Ye={id:"p2p-listing-purchase",initial:"idle",context:{selectedMoment:{},errorMessage:{i18nKey:""}},states:{idle:{id:"idle",on:{SELECT:"#select_modal"}},select_modal:{id:"select_modal",type:"parallel",on:{CANCEL:{target:"#idle",actions:"clearSelectedMoment"}},states:{listings_table:{id:"listings_table",initial:"fetch",entry:"clearSelectedMoment",on:{REFETCH:"#fetch_listings"},states:{fetch:{id:"fetch_listings",invoke:{src:"getListings",onDone:[{target:"#idle_listings",cond:"listingHasMoments",actions:["assignGetListings"]},{target:"#no_listings"}],onError:"#errored_listings"}},empty:{id:"no_listings"},error:{id:"errored_listings"},fetch_more:{id:"fetch_more_listings",invoke:{src:"getListings",onDone:[{target:"#idle_listings",actions:["assignGetListings"]}],onError:{target:"#idle_listings",actions:["assignFetchMoreError"]}}},idle_listings:{id:"idle_listings",on:{SELECT_MOMENT:{actions:"assignSelectedMoment",target:"#noCurrentOrders"},CLEAR_SELECTION:{actions:"clearSelectedMoment",target:"#noCurrentOrders"},SET_SORT:{target:"#fetch_listings",actions:["assignSort"]},FETCH_MORE:{target:"#fetch_more_listings"},BUY:[{target:"#fetchCurrentOrders",cond:"shouldCheckExistingOrders"},{target:"#buyingMoment"}]}}}},currentOrdersWarning:{id:"currentOrdersWarning",initial:"noCurrentOrders",states:{noCurrentOrders:{id:"noCurrentOrders"},fetchCurrentOrders:{id:"fetchCurrentOrders",invoke:{src:"checkExistingOrders",onDone:[{target:"#showWarning",cond:"hasExistingOrders"},{target:"#buyingMoment"}],onError:"#buyingMoment"}},showWarning:{id:"showWarning",on:{CONTINUE_PURCHASE:{target:"#buyingMoment"}}}}}}},buyingMoment:{id:"buyingMoment",on:{RESET_PURCHASE:"idle"},invoke:{id:"buyMoment",src:"buyMoment",data:{client:function(e){return e.client},flags:function(e){return e.flags},currentUrlLink:function(e){return e.currentUrlLink},moment:function(e,t){var n;return null!==(n=t.moment)&&void 0!==n?n:e.moment},executeRecaptcha:function(e){return e.executeRecaptcha},startPurchaseWhenInitialized:function(){return!0}},onDone:"#success",onError:{target:"#error",actions:["assignError"]}}},error:{id:"error",on:{SELECT:"#fetch_listings"}},success:{id:"success",type:"final"}}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t;return Ke(Ke({},Ye),{},{context:Ke(Ke({},Ye.context),n)})},tt=n(420),nt=n(4644),it=n(85174),ot=n(30447),rt=n(74061),lt=n(65691),st=n(11728),at=n(28059),dt=n(98398),ct=n(43371),ut=n(59100),mt=n(99634),pt=n(55381);var gt=n(94923);var ht=function(){var e=(0,j.Z)().track,t=(0,r.useState)((0,Re.rV)(ot.xM)),n=t[0],i=t[1];return n?null:(0,o.jsxs)(gt.ls,{children:[(0,o.jsx)(C.c,{i18nKey:"ListingsTable.firstPurchase.warning",defaults:"<bold>PLEASE NOTE</bold>: Lowest ask Moments often sell out very quickly and there\u2019s strong market competition to snag them. If you pick the Lowest Ask Moment, your purchase might fail if someone else purchases it before you.",components:{bold:(0,o.jsx)("b",{})}}),(0,o.jsx)(gt.fm,{onClick:function(){e("(Low Price Warning) dismissed"),i(!0),(0,Re.LS)(ot.xM,!0)},children:(0,o.jsx)(k.Z,{width:"32px",height:"32px"})})]})};var vt=function(){var e=(0,m.gV)();return!e.fm&&e.p2p&&e.p2pPurchasing?null:(0,o.jsx)(gt.Jf,{children:(0,o.jsx)(C.c,{i18nKey:e.fm||!e.p2p?"ListingsTable.flowMaintenance.warning":"ListingsTable.p2pPurchasingDisabled.warning",defaults:"<bold>MAINTENANCE MODE</bold>: We are working on improving the Marketplace to be faster and more reliable! During this time we will temporarily pause the ability to buy. Feel free to browse around and <externalLink>check the latest status here<\\/externalLink>.",components:{bold:(0,o.jsx)("b",{}),externalLink:(0,o.jsx)(E.Z,{href:h.Lj.href,trackingId:"(p2p purchase) link to status page"})}})})},ft=(0,s.ZP)(gt.ls).withConfig({displayName:"LowPriceWarning__Warning",componentId:"sc-1gidltr-0"})(["margin-top:8px;"]);var yt=function(e){var t,n,i,l=e.service,s=(0,m.gV)(),a=(0,De.G)(l),d=(0,Me.Z)(a,1)[0],c=s.lowPriceWarningThreshold;return(0,r.useMemo)((function(){var e,t,n;return function(e,t,n){if(!e||!t||!n)return!1;var i=parseFloat(e),o=parseFloat(t),r=n/100+1;return i<=Math.ceil(o*r)||void 0}(null===d||void 0===d||null===(e=d.context)||void 0===e||null===(t=e.moment)||void 0===t?void 0:t.price,null===d||void 0===d||null===(n=d.context)||void 0===n?void 0:n.lowestPrice,c)}),[null===d||void 0===d||null===(t=d.context)||void 0===t||null===(n=t.moment)||void 0===n?void 0:n.price,null===d||void 0===d||null===(i=d.context)||void 0===i?void 0:i.lowestPrice,c])?(0,o.jsx)(ft,{children:(0,o.jsx)(C.c,{i18nKey:"ListingTable.lowPriceWarning",defaults:"You have selected one of the lowest priced Moments. Other buyers may be trying to purchase it at the same time.",values:{percent:c},components:{bold:(0,o.jsx)("b",{})}})}):null},xt=n(32487),bt=n(87985),jt=n(37089),wt=n(66417),Pt=n(82504),Zt=n(12107);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=(0,s.ZP)(Pt.b).attrs((function(){return{type:"checkbox"}})).withConfig({displayName:"CheckRoundButton__StyledButtonInput",componentId:"sc-9fm5x-0"})([""]),St=(0,s.ZP)(Zt.W).withConfig({displayName:"CheckRoundButton__StyledLabel",componentId:"sc-9fm5x-1"})(["",":focus ~ &{border:3px solid ",";}",":disabled ~ &{cursor:default;border:1px solid #2b2c32;opacity:0.8;}position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:32px;background-color:#2b2c32;border:1px solid ",";border-radius:50%;svg{display:none;}",":checked ~ &{background-color:",";border:1px solid ",";svg{display:block;}}"],Ct,l.ZP.color.brand[400],Ct,l.ZP.color.black[100],Ct,l.ZP.color.white,l.ZP.color.white),kt=function(e){var t=e.id,n=e.onChange,i=e.disabled,r=e.label,l=(0,O.Z)(e,["id","onChange","disabled","label"]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(Ct,Ot({id:t,onChange:n,disabled:i},l)),(0,o.jsxs)(St,{htmlFor:t,children:[r&&(0,o.jsx)("span",{className:"visually-hidden",children:r}),(0,o.jsx)(B.Z.Check,{size:"22",color:"black"})]})]})};kt.defaultProps={disabled:!1,onChange:function(){},label:""};var Et=kt;function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=s.ZP.div.withConfig({displayName:"SelectMoment__StyledMoment",componentId:"sc-1iqa4nd-0"})(["display:grid;grid-template-columns:2fr 3fr 4fr auto;column-gap:20px;align-items:center;margin-bottom:",";padding:4px 4px 4px 16px;width:100%;height:",";color:",";font-size:14px;background-color:",";border-color:",";border-style:solid;border-width:1px;@media ","{grid-template-columns:repeat(2,1fr) auto;column-gap:16px;padding:4px 4px 4px 12px;}"],(function(e){var t=e.$itemGap;return t?"".concat(t,"px"):0}),(function(e){var t=e.$itemHeight;return t?"".concat(t,"px"):0}),l.ZP.color.white,l.ZP.color.black[900],(function(e){var t=e.$isSelected;return e.$hasWarning?"#f7dc07":t?l.ZP.color.white:l.ZP.color.black[900]}),l.ZP.mediaQueries.mobileOnly),Dt=(0,s.ZP)(It).withConfig({displayName:"SelectMoment__StyledPlaceholders",componentId:"sc-1iqa4nd-1"})(["grid-template-rows:41px;margin-bottom:",";"],(function(e){var t=e.$itemGap;return t?"".concat(t,"px"):0})),Tt=s.ZP.span.withConfig({displayName:"SelectMoment__StyledPrice",componentId:"sc-1iqa4nd-2"})(["color:",";font-weight:bold;"],(function(e){return e.$isLowestPrice?l.ZP.color.green[500]:l.ZP.color.white})),Nt=s.ZP.span.withConfig({displayName:"SelectMoment__StyledSerial",componentId:"sc-1iqa4nd-3"})(["a{color:",";&:hover,&:focus{text-decoration:underline;}}"],(function(e){return e.$isJerseyNumber?l.ZP.color.brand[400]:l.ZP.color.white})),Rt=s.ZP.span.withConfig({displayName:"SelectMoment__StyledTruncatedUser",componentId:"sc-1iqa4nd-4"})(["display:inline-block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:none;@media ","{display:none;}a{color:inherit;&:hover,&:focus{text-decoration:underline;}}"],l.ZP.mediaQueries.mobileOnly),Ut=s.ZP.span.withConfig({displayName:"SelectMoment__ActionWrapper",componentId:"sc-1iqa4nd-5"})(["display:grid;padding:0 4px;min-width:50px;min-height:40px;place-items:center;"]),At=(0,r.memo)((function(e){var t,n,i,r,l,s,a,d,u,m=e.selectedMoment,p=(e.setID,e.playID,e.handleClick),g=e.fsm,v=e.listing,f=e.jerseyNumber,y=e.lowestPrice,x=e.purchasingDisabled,b=e.isItemLoaded,j=e.style,w=e.itemGap,P=e.itemHeight,Z=(0,O.Z)(e,["selectedMoment","setID","playID","handleClick","fsm","listing","jerseyNumber","lowestPrice","purchasingDisabled","isItemLoaded","style","itemGap","itemHeight"]),_=(0,c.$)().t,C=j?Lt(Lt({},j),{},{top:j.top+w,height:j.height-w}):{};if(!b)return(0,o.jsxs)(Dt,Lt(Lt({},Z),{},{style:C,"data-testid":"fetchingMore",$itemGap:w,children:[(0,o.jsx)(wt.Z,{variant:"text",height:14,width:50}),(0,o.jsx)(wt.Z,{variant:"text",height:14,width:60}),(0,o.jsx)(Rt,{children:(0,o.jsx)(wt.Z,{variant:"text",height:14,width:200})}),(0,o.jsx)(Ut,{children:(0,o.jsx)(wt.Z,{variant:"circle",height:33,width:33})})]}));var S=null===v||void 0===v||null===(t=v.moment)||void 0===t?void 0:t.flowSerialNumber,k=null===v||void 0===v||null===(n=v.moment)||void 0===n?void 0:n._isOwnedByCurrentUser,E="@".concat(null===v||void 0===v||null===(i=v.moment)||void 0===i||null===(r=i.owner)||void 0===r?void 0:r.username),M=!!(null===v||void 0===v||null===(l=v.moment)||void 0===l?void 0:l.price),L=(0,bt.aS)(null===v||void 0===v||null===(s=v.moment)||void 0===s?void 0:s.price),I=(null===m||void 0===m?void 0:m.id)===(null===v||void 0===v||null===(a=v.moment)||void 0===a?void 0:a.id);return(0,o.jsxs)(It,Lt(Lt({},Z),{},{style:C,$itemGap:w,$itemHeight:P,$isSelected:I,$hasWarning:I&&g.matches("select_modal.currentOrdersWarning.showWarning"),onClick:function(e){e.target==e.currentTarget&&e.stopPropagation(),k||x||!M||p({moment:v.moment})},children:[(0,o.jsx)(Nt,{$isJerseyNumber:parseInt(f)===parseInt(S),children:(0,o.jsx)(jt.Z,{link:(0,h.OM)({id:null===v||void 0===v||null===(d=v.moment)||void 0===d?void 0:d.id}),trackingId:"(p2p purchase) link to minted moment",passHref:!0,children:(0,o.jsx)("a",{tabIndex:m?"-1":"0",children:(0,dt.I_)(null===v||void 0===v?void 0:v.moment)})})}),(0,o.jsx)(Tt,{$isLowestPrice:y===L,children:M&&(0,de.T4)({value:L,currency:"USD"},!0)}),(0,o.jsx)(Rt,{children:(0,o.jsx)(jt.Z,Lt(Lt({},(0,h.Ab)({name:E})),{},{trackingId:"(p2p purchase) link to owner profile",passHref:!0,children:(0,o.jsx)("a",{tabIndex:m?"-1":"0",children:E})}))}),(0,o.jsx)(Ut,{children:k?_("SelectTable.ownedByYou.label"):(0,o.jsx)(Et,{"data-testid":"selectMoment",id:"select-moment-".concat(null===v||void 0===v||null===(u=v.moment)||void 0===u?void 0:u.id),disabled:x||!M,checked:I,readOnly:!0,label:"Select a Moment with serial number ".concat(S),tabIndex:I||!m?"0":"-1"})})]}))}),rt.wy);At.defaultProps={listing:void 0,style:void 0,selectedMoment:void 0};var qt=At,Wt=n(42837),Bt=s.ZP.div.withConfig({displayName:"ResultsStatus__ResultsStatusWrapper",componentId:"sc-1m1zxf-0"})(["display:flex;grid-column-start:2;align-items:center;width:40px;justify-items:center;"]);var Ft=function(e){var t,n=e.service,i=(0,De.G)(n),r=(0,Me.Z)(i,1)[0],s=(0,c.$)().t,a=!1!==(null===(t=r.context.pagination)||void 0===t?void 0:t.isNextPageAvailable);return r.matches("select_modal.listings_table.fetch_more")?(0,o.jsxs)(Bt,{children:[(0,o.jsx)("span",{className:"visually-hidden","data-testid":"fetchingMore",children:s("ListingTable.gettingListings.loading")}),(0,o.jsx)(Wt.Z,{color:l.ZP.color.grey[700]})]}):a?(0,o.jsxs)(Bt,{children:[(0,o.jsx)("span",{className:"visually-hidden",children:s("ListingTable.scrollMore")}),(0,o.jsx)(B.Z.Angle,{size:24,color:l.ZP.color.grey[700]})]}):null},$t=n(73417),Ht=s.ZP.div.withConfig({displayName:"BuyButton__Wrapper",componentId:"v0yw6u-0"})(["grid-column-start:3;width:100%;min-height:48px;button{width:100%;height:100%;}"]);var zt=function(e){var t,n=e.service,i=(0,De.G)(n),r=(0,Me.Z)(i,2),l=r[0],s=r[1],a=(0,c.$)().t;if(l.matches("select_modal.currentOrdersWarning.showWarning"))return(0,o.jsx)(Ht,{children:(0,o.jsx)(w.Z,{"data-testid":"continuePurchaseMoment",disabled:!l.context.moment,size:"small",variant:"secondary",onClick:function(){return s("CONTINUE_PURCHASE")},trackingId:"(p2p purchase) select moment modal continue purchase button",children:a("ListingTable.cta.continuePurchase")})});var d=parseInt(null===(t=l.context.moment)||void 0===t?void 0:t.price)?a("general.buyFor",{price:(0,de.T4)({value:l.context.moment.price,currency:"USD"},!0,!0)}):a("general.buy"),u=l.context.moment?d:a("ListingTable.cta.selectMoment");return(0,o.jsx)(Ht,{children:(0,o.jsx)($t.Z,{type:"buy",cta:a("MomentListing.selectAndBuy"),size:"small",variant:"secondary",isRefetchingOnTimerEnd:!0,children:(0,o.jsx)(w.Z,{"data-testid":"buyMoment",disabled:!l.context.moment,onClick:function(){return s("BUY")},trackingId:"(p2p purchase) select moment modal buy button",loading:l.matches("select.idle.fetchCurrentOrders"),children:u})})})},Gt=s.ZP.div.withConfig({displayName:"SelectTable__StyledWrapper",componentId:"sc-1q4fp3q-0"})(["display:flex;flex:1 0 auto;flex-direction:column;padding:"," "," ",";width:100%;min-width:320px;height:100%;min-height:400px;overflow:hidden;background:",";@media ","{padding-right:",";padding-left:",";}"],l.ZP.spacing[24],l.ZP.spacing[16],l.ZP.spacing[56],l.ZP.color.black[700],l.ZP.mediaQueries.tablet,l.ZP.spacing[24],l.ZP.spacing[24]),Vt=(0,s.ZP)(ut.fC).withConfig({displayName:"SelectTable__StyledBody",componentId:"sc-1q4fp3q-1"})(["position:relative;display:flex;flex:1 1 auto;flex-direction:column;"]),Qt=s.ZP.div.withConfig({displayName:"SelectTable__MomentCount",componentId:"sc-1q4fp3q-2"})(["margin-bottom:16px;color:",";font-size:14px;font-weight:bold;text-transform:uppercase;"],l.ZP.color.white),Jt=s.ZP.div.withConfig({displayName:"SelectTable__CountAndFiltersGrid",componentId:"sc-1q4fp3q-3"})(["display:grid;grid-template-columns:1fr auto;align-items:center;grid-gap:16px;"]),Kt=s.ZP.div.withConfig({displayName:"SelectTable__WindowWrapper",componentId:"sc-1q4fp3q-4"})(["flex:1 1 auto;overflow:hidden;"]),Xt=s.ZP.div.withConfig({displayName:"SelectTable__BottomInfoWrapper",componentId:"sc-1q4fp3q-5"})(["position:absolute;right:0;bottom:0;left:0;display:flex;padding-top:4px;padding-right:inherit;padding-bottom:4px;padding-left:inherit;width:100%;height:",";@media ","{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:4px;justify-items:center;}"],l.ZP.spacing[56],l.ZP.mediaQueries.tablet);function Yt(e){var t=e.children,n=(0,c.$)().t;return(0,o.jsxs)(Gt,{children:[(0,o.jsx)(ut.Wl,{gutterBottom:"20px",variant:"h4",color:"white",children:n("ListingTable.buySerial.title")}),t]})}Yt.defaultProps={children:void 0};var en=function(e){var t,n,i,l,s,a=e.momentListing,d=e.service,u=(0,De.G)(d),p=(0,Me.Z)(u,2),g=p[0],h=p[1],v=(0,j.Z)().track,f=(0,c.$)().t,y=(0,m.gV)(),x=(0,mt.Z)({skip:!(null===y||void 0===y?void 0:y.feature_p2pCooldowns)}),b=x.userCooldowns,w=x.userCooldownsFsm,P=it.q.SERIAL_NUMBER_ASC,Z=it.q.SERIAL_NUMBER_DESC,_={PRICE_USD_ASC:it.q.PRICE_USD_ASC,PRICE_USD_DESC:it.q.PRICE_USD_DESC,SERIAL_NUMBER_ASC:P,SERIAL_NUMBER_DESC:Z},O=(g.matches("select.listings_table.idleListings")&&(null===(t=g.context.pagination)||void 0===t||t.error),null===(n=g.context.pagination)||void 0===n?void 0:n.isNextPageAvailable),C=function(){v("(p2p purchase) fetch more",{depth:Math.ceil((null===a||void 0===a?void 0:a._momentListings)/Ve.VZ),totalMoments:g.context.listingsCount}),h("FETCH_MORE")},S=(g.matches("select.idle"),(0,at.Z)({momentListings:null===a||void 0===a?void 0:a._momentListings,DEFAULT_SORT:g.context.sortBy,onSortChange:function(e){(0,Re.LS)(ot.ie,e),h("SET_SORT",{sort:e})}})),k=S.handleSortChange,E=S.isMobilePanelVisible,M=S.setIsMobilePanelVisible,L=S.sort,I=null===a||void 0===a||null===(i=a._momentListings)||void 0===i?void 0:i[0],D=null===I||void 0===I||null===(l=I.set)||void 0===l?void 0:l.id,T=null===I||void 0===I||null===(s=I.play)||void 0===s?void 0:s.id,N=g.context.lowestPrice,R=g.context.listingsCount,U=(0,dt.Ej)(I),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flags,n=e.userCooldownsFsm,i=e.userCooldowns,o=!!t&&(!t.p2p||!t.p2pPurchasing||t.fm),r=!!(null===t||void 0===t?void 0:t.feature_p2pCooldowns)&&n===pt.E.SUCCESS&&0!==(null===i||void 0===i?void 0:i.p2pPurchaseRemainingSeconds);return o||r}({flags:y,userCooldownsFsm:w,userCooldowns:b}),q=C,W=O?(null===a||void 0===a?void 0:a._momentListings.length)+1:null===a||void 0===a?void 0:a._momentListings.length,B=g.matches("select.listings_table.fetch_more")?function(){}:q,F=function(e){return!O||e<(null===a||void 0===a?void 0:a._momentListings.length)},$=!!y.lowPriceWarningThreshold,H=function(e){var t,n=e.moment;n.id===(null===(t=g.context.moment)||void 0===t?void 0:t.id)?h("CLEAR_SELECTION"):h("SELECT_MOMENT",{moment:n}),g.matches("select_modal.currentOrdersWarning.showWarning")?v("(p2p purchase - warning message) select moment modal select another serial",{setID:D,playID:T,serialNumber:null===n||void 0===n?void 0:n.flowSerialNumber,momentID:null===n||void 0===n?void 0:n.id}):v("(p2p purchase) select moment modal select action",{setID:D,playID:T,serialNumber:null===n||void 0===n?void 0:n.flowSerialNumber,momentID:null===n||void 0===n?void 0:n.id})};return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)(Jt,{children:[(0,o.jsx)(Qt,{children:f("MomentUserListingThumbnail.listingsAmount",{amount:R})}),(0,o.jsx)(ct.Z,{isMobilePanelVisible:E,setIsMobilePanelVisibile:M,options:_,handleSortChange:k,sort:L})]}),!E&&(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)(Vt,{"data-testid":"scrollable-listings",children:[!$&&(0,o.jsx)(ht,{}),(0,o.jsx)(vt,{}),(0,o.jsx)(Kt,{children:(0,o.jsx)(st.Z,{children:function(e){var t=e.height,n=e.width;return(0,o.jsx)(lt.Z,{isItemLoaded:F,itemCount:W,loadMoreItems:B,minimumBatchSize:Ve.VZ,threshold:Ve.VZ/2,children:function(e){var i=e.onItemsRendered,r=e.ref;return(0,o.jsx)(rt.t7,{height:t,width:n,itemSize:57,itemData:null===a||void 0===a?void 0:a._momentListings,itemCount:W,onItemsRendered:i,ref:r,children:function(e){var t=e.index,n=e.style;return(0,o.jsx)(qt,{selectedMoment:g.context.moment,setID:D,playID:T,handleClick:H,fsm:g,listing:null===a||void 0===a?void 0:a._momentListings[t],jerseyNumber:U,lowestPrice:N,purchasingDisabled:A,isItemLoaded:F(t),style:n,index:t,itemHeight:49,itemGap:8})}})}})}})})]}),g.matches("select_modal.currentOrdersWarning.showWarning")&&(0,o.jsx)(xt.Z,{}),!g.matches("select_modal.currentOrdersWarning.showWarning")&&$&&(0,o.jsx)(yt,{service:d}),(0,o.jsxs)(Xt,{children:[(0,o.jsx)(Ft,{service:d}),(0,o.jsx)(zt,{service:d})]})]})]})},tn=(0,s.ZP)(Gt).withConfig({displayName:"NoListingsView__Content",componentId:"daup93-0"})(["justify-content:center;align-items:center;"]),nn=s.ZP.div.withConfig({displayName:"NoListingsView__MessageWrapper",componentId:"daup93-1"})(["display:grid;grid-template-rows:1fr 40px;grid-gap:20px;max-width:250px;"]),on=(0,s.ZP)(P.Z).attrs((function(){return{color:"white",size:"large"}})).withConfig({displayName:"NoListingsView__Message",componentId:"daup93-2"})([""]),rn=(0,s.ZP)(w.Z).attrs((function(){return{transparent:!0,variant:"light"}})).withConfig({displayName:"NoListingsView__RetryButton",componentId:"daup93-3"})([""]);function ln(e){var t=e.children;return(0,o.jsx)(tn,{children:(0,o.jsx)(nn,{children:t})})}var sn=n(98504);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=s.ZP.button.withConfig({displayName:"SelectMoment__StyledCloseButton",componentId:"sc-86hpg7-0"})(["position:absolute;top:10px;right:0;display:flex;align-items:center;justify-content:center;width:60px;height:60px;color:",";outline:none;@media ","{top:0;}svg{transform:rotate(45deg);}"],l.ZP.color.white,l.ZP.mediaQueries.tablet),un=function(e){var t=e.onClick,n=(0,O.Z)(e,["onClick"]);return(0,o.jsx)(cn,dn(dn({},n),{},{onClick:t,children:(0,o.jsx)(k.Z,{width:"32px",height:"32px"})}))};var mn=function(e){var t=e.service,n=(0,De.G)(t),i=(0,Me.Z)(n,2),l=i[0],s=i[1],a=(0,j.Z)().track,d=(0,c.$)().t,u=(0,sn.Z)().height,m=l.context.listing,p="select_modal.listings_table";return(0,o.jsx)(M.Z,{isOpen:!0,onRequestClose:function(){a("(p2p purchase) close select moment modal"),s("CANCEL")},overlayStyle:{height:u},contentStyle:{width:"clamp(320px, 65vw, 1000px)",minWidth:"clamp(0px, 100vw, 767px)",maxWidth:"initial",height:"clamp(500px, 96vh, 1300px)",minHeight:"500px",maxHeight:u,background:"transparent",overflowX:"hidden"},children:(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(un,{"data-testid":"cancel",onClick:function(){return s("CANCEL")}}),(0,o.jsxs)(Yt,{children:[l.matches("".concat(p,".fetch"))&&(0,o.jsx)(ln,{children:(0,o.jsx)(on,{"data-testid":"loading",children:d("ListingTable.gettingListings.loading")})}),["".concat(p,".idle_listings"),"".concat(p,".fetch_more")].some(l.matches)&&(0,o.jsx)(en,{momentListing:m,service:t}),l.matches("".concat(p,".error"))&&(0,o.jsxs)(ln,{children:[(0,o.jsx)(on,{"data-testid":"errorMessage",children:d("ListingTable.gettingListings.error")}),(0,o.jsx)(rn,{"data-testid":"refetch",trackingId:"(p2p purchase) refresh select moment modal - error",onClick:function(){return s("REFETCH")},children:d("ListingTable.gettingListings.retry")})]}),l.matches("".concat(p,".empty"))&&(0,o.jsxs)(ln,{children:[(0,o.jsx)(on,{"data-testid":"emptyMessage",children:d("ListingTable.gettingListings.empty")}),(0,o.jsx)(rn,{"data-testid":"refetch",trackingId:"(p2p purchase) refresh select moment modal - empty",onClick:function(){return s("REFETCH")},children:d("ListingTable.gettingListings.retry")})]})]})]})})},pn=n(19838),gn=n(80410);var hn=function(e){var t=e.service,n=(0,c.$)().t,i=(0,De.G)(t),r=(0,Me.Z)(i,1)[0];return(0,o.jsx)(P.Z,{"data-testid":"buyMomentMessages",color:l.$_.white,children:n(Qe.ci[null===r||void 0===r?void 0:r.value])})};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var fn=(0,s.ZP)(w.Z).withConfig({displayName:"P2PListingPurchase__StyledButton",componentId:"gxwg41-0"})(["padding:"," ",";width:100%;"],l.W0[16],l.W0[24]),yn=s.ZP.div.withConfig({displayName:"P2PListingPurchase__Messages",componentId:"gxwg41-1"})(["padding-top:",";min-height:48px;"],l.W0[8]);function xn(e){var t,n,i,s=e.service,d=(0,c.$)().t,u=(0,a.dd)().openModal,m=(0,De.G)(s),p=(0,Me.Z)(m,2),g=p[0],h=p[1],f=(0,v.Z)();return f.currentUserFsm===f.FS.NOT_AUTHENTICATED?(0,o.jsx)(K.default,{onClick:function(e){e.preventDefault(),u({id:"signupModal",Comp:J.Z,props:{title:"MomentListing.SignupModalTitle"}})},variant:"secondary",text:d("MomentListing.SignupButton"),size:"large"}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)($t.Z,{type:"buy",isCooldownButtonEnabled:!0,onClick:function(){h("SELECT")},cta:d("MomentListing.selectAndBuy"),children:(0,o.jsxs)("div",{children:[(0,o.jsx)(fn,{variant:"light","data-testid":"openListingsModal",onClick:function(){return h("SELECT")},trackingId:"(p2p purchase) open select moment modal",disabled:g.matches("buyingMoment")||g.matches("success"),loading:g.matches("buyingMoment")||g.matches("success"),children:d("MomentListing.selectAndBuy")}),(0,o.jsxs)(yn,{children:[g.matches("buyingMoment")&&(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(hn,{service:null===(t=g.children)||void 0===t?void 0:t.buyMoment}),(0,o.jsx)(pn.Z,{service:null===(n=g.children)||void 0===n?void 0:n.buyMoment}),(0,o.jsx)(gn.Z,{service:null===(i=g.children)||void 0===i?void 0:i.buyMoment})]}),g.matches("error")&&(0,o.jsx)(tt.Z,{state:g}),g.matches("success")&&(0,o.jsx)(P.Z,{"data-testid":"successPurchasingMoment",color:l.$_.white,children:d(Qe.ci[nt.td.REDIRECTING_TO_DAPPER])})]})]})}),g.matches("select_modal")&&(0,o.jsx)(mn,{service:s})]})}var bn=function(e){var t,n,r=e.setID,l=e.playID,s=(0,Ze.useRouter)(),a=(0,Le.useApolloClient)(),d=(0,m.gV)(),c=(0,Ne.Z1)().executeRecaptcha,u=null!==(t=null===(n=it.q[(0,Re.rV)(ot.ie)])||void 0===n?void 0:n.value)&&void 0!==t?t:it.q.SERIAL_NUMBER_ASC.value,p=et({context:{errorMessage:"",setID:r,playID:l,client:a,flags:d,currentUrlLink:{href:null===s||void 0===s?void 0:s.pathname,as:null===s||void 0===s?void 0:s.asPath},executeRecaptcha:c,sortBy:u}}),g=(0,Te.k)((0,Ie.J)(p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{actions:i,guards:{listingHasMoments:function(e,t){var n=t.data;return!!(null===n||void 0===n?void 0:n.size)},hasExistingOrders:function(e,t){var n=t.data;return null===n||void 0===n?void 0:n.hasExistingOrders},shouldCheckExistingOrders:function(e){var t;return!!(null===e||void 0===e||null===(t=e.flags)||void 0===t?void 0:t.momentInCheckout)}},services:{getListings:Ve.Y9,checkExistingOrders:Ve.el,buyMoment:Xe}})));return(0,o.jsx)(xn,{service:g})},jn=s.ZP.div.withConfig({displayName:"UserHeaderInsert__ShareButtonWrapper",componentId:"ovuuxq-0"})(["button{width:100%;height:49px;}"]),wn=(0,s.ZP)(we).withConfig({displayName:"UserHeaderInsert__ButtonsRow",componentId:"ovuuxq-1"})(["@media ","{grid-template-columns:",";}"],l.ZP.mediaQueries.tablet,(function(e){return e.$hasListings?"1fr 49px":"1fr"})),Pn=function(e){var t=e.moment,n=e.onTopSaleClick,i=t.set,r=t.play,l=!!(null===t||void 0===t?void 0:t._listingsCount),s=(0,v.Z)(),a=s.currentUserFsm===s.FS.AUTHENTICATED;return(0,o.jsxs)(Pe,{children:[(0,o.jsx)(ae,{moment:t}),(0,o.jsx)(je,{moment:t,onTopSaleClick:n}),(0,o.jsxs)(wn,{$hasListings:l,children:[l&&(0,o.jsx)(bn,{setID:null===i||void 0===i?void 0:i.id,playID:null===r||void 0===r?void 0:r.id}),a&&(0,o.jsx)(jn,{children:(0,o.jsx)(Y.Z,{moment:t,variant:"light",iconOnly:!0})})]}),l&&(0,o.jsx)(Ee,{})]})};Pn.defaultProps={moment:{},onTopSaleClick:function(){}};var Zn=Pn,_n=s.ZP.div.withConfig({displayName:"MomentUserListingDetailed__StyledButtonWrapper",componentId:"sc-1orzr9i-0"})(["display:flex;justify-content:flex-end;margin-top:16px;width:100%;@media ","{display:none;}"],l.w5.desktop),On=(0,s.ZP)(K.default).withConfig({displayName:"MomentUserListingDetailed__StyledSignupCta",componentId:"sc-1orzr9i-1"})([""," position:relative;margin-bottom:16px;padding:0 0 8px 0;padding-bottom:4px;text-transform:uppercase;color:#b1b7c2;border:0;border-bottom:1px solid #b1b7c2;&:disabled{cursor:not-allowed;background-color:transparent;}"],d.ZP.links.button),Cn=function(e){var t=e.setID,n=e.playID,i=(0,c.$)().t,s=(0,a.dd)().openModal,d=(0,m.gV)(),j=(0,v.Z)(),w=j.currentUserFsm,P=j.FS,Z=w===P.NOT_AUTHENTICATED,_=w===P.AUTHENTICATED,O=(0,f.Z)({query:x.j,setID:t,playID:n,fetchPolicy:"network-only"}),C=O.finiteState,S=O.FS,k=O.momentListing,E=(0,p.Z)(l.w5.tablet,!1),M=(0,u.Z)({offset:E?70:140}),L=M.ref,I=M.performScroll,D=(0,r.useState)(!0),T=D[0],N=D[1];return C===S.IDLE||C===S.FETCHING?(0,o.jsx)(X.Z.Loading,{}):C===S.ERROR?(0,o.jsx)(X.Z.ErrorDisplay,{}):(0,g.isEmpty)(k)?(0,o.jsx)(X.Z.NotFound,{title:"MomentUserListingDetailed.notFound.title",description:"MomentUserListingDetailed.notFound.description",linkLabel:"MomentUserListingDetailed.notFound.buttonLabel",link:h.nr}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)(X.Z,{children:[(0,o.jsx)(X.Z.Header,{moment:k,children:(0,o.jsx)(Zn,{moment:k,onTopSaleClick:function(){N(!0),I()}})}),(0,o.jsxs)(X.Z.Body,{children:[(0,o.jsx)(X.Z.Collectible,{moment:k,isOpen:!0}),_&&(null===d||void 0===d?void 0:d.feature_showEvaluateMarketLink)&&!!t&&!!n&&(0,o.jsx)(V,{setID:t,playID:n}),Z&&(0,o.jsx)(_n,{children:(0,o.jsx)(On,{text:i("MomentUserListingDetailed.signupButton"),variant:"light",transparent:!0,onClick:function(e){e.preventDefault(),s({id:"signupModal",Comp:J.Z,props:{title:"MomentListing.SignupModalTitle"}})}})}),(0,o.jsx)(X.Z.StatsAndScores,{moment:k,isLocked:Z,isOpen:_}),(0,o.jsx)(X.Z.VitalsAndAverages,{moment:k,isLocked:Z,isOpen:_}),(0,o.jsx)("div",{ref:L}),(0,o.jsx)(Q.Z,{editionSetPlays:[{setID:t,playID:n}],anchorRef:L,wrapperComponent:(0,o.jsx)(y.Z,{summaryAs:"h2",summary:i("HistoryTable.title"),isOpen:T,isLocked:Z,setIsOpen:N})})]})]}),(0,o.jsx)(b.Z,{moment:k,limit:4})]})}},46818:function(e,t,n){"use strict";var i=n(85893),o=n(92809),r=(n(67294),n(7090)),l=n(96486),s=n(8997),a=n(99254),d=n(57223),c=n(54925),u=n(89194),m=n(7702),p=n(56207),g=n(34511),h=n(76233);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,s.ZP)(p.ZP).withConfig({displayName:"SimilarMomentListings__PaddedContainer",componentId:"jodgo6-0"})(["padding-top:",";padding-bottom:",";"],a.ZP.spacing[20],a.ZP.spacing[40]);function x(e){var t,n,o,s,p=e.moment,v=e.size,x=e.limit,b=(0,r.$)().t,j=null===p||void 0===p||null===(t=p.play)||void 0===t||null===(n=t.stats)||void 0===n?void 0:n.teamAtMomentNbaId,w=null===p||void 0===p||null===(o=p.play)||void 0===o?void 0:o.id,P=null===p||void 0===p||null===(s=p.set)||void 0===s?void 0:s.id,Z=(0,c.Z)({variables:f(f({},u.qi),{},{byTeams:[j],searchInput:{pagination:{cursor:"",direction:"RIGHT",limit:x+1}}})}),_=Z.error,O=Z.moments,C=(0,l.filter)(O,(function(e){var t,n;return(null===e||void 0===e||null===(t=e.play)||void 0===t?void 0:t.id)!==w||(null===e||void 0===e||null===(n=e.set)||void 0===n?void 0:n.id)!==P})),S=(0,l.slice)(C,0,x);return _||(0,l.isEmpty)(S)?null:(0,i.jsx)(g.Z,{color:"dark","data-testid":"similarMoments",children:(0,i.jsxs)(y,{children:[(0,i.jsx)(d.Z.H4,{color:a.ZP.color.white,children:b("SimilarMomentListings.title")}),(0,i.jsx)(h.R,{size:v,children:S.map((function(e){return(0,i.jsx)(m.Z,{moment:e},e.id)}))})]})})}x.defaultProps={moment:{},size:null,limit:12},t.Z=x},7702:function(e,t,n){"use strict";var i=n(85893),o=(n(67294),n(1990));t.Z=function(e){var t,n,r=e.moment,l=null===r||void 0===r||null===(t=r.set)||void 0===t?void 0:t.id,s=null===r||void 0===r||null===(n=r.play)||void 0===n?void 0:n.id;return(0,i.jsx)(o.Z,{setID:l,playID:s})}},1990:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(85893),o=(n(67294),n(8997)),r=n(96486),l=n(17626),s=n(36840),a=n(7090),d=n(87157),c=n(98398),u=n(87985),m=n(56420),p=n(37089),g=n(83832),h=n(22054),v=n(76325),f=n(49976),y=function(e){var t,n,o=e.moment,r=(0,a.$)().t,l=(0,d.$t)({setID:null===o||void 0===o||null===(t=o.set)||void 0===t?void 0:t.id,playID:null===o||void 0===o||null===(n=o.play)||void 0===n?void 0:n.id}),s=(0,c.gn)(o,m.Qq.HERO,{width:m.CA.THUMBNAIL}),y=(0,c.WE)(o),x=(0,c.Rv)(o),b=r((0,c.Xc)(o)),j=(0,c.G7)({numerator:"#",denominator:(0,c.GQ)(o),isRetired:(0,c.fh)(o)}),w=(0,c.$J)(o),P=(0,c.fh)(o)?{label:r("MomentThumbnail.badge.limitedEdition"),tooltip:r("MomentThumbnail.tooltip.limitedEdition")}:{label:r("MomentThumbnail.badge.circulationCount"),tooltip:r("MomentThumbnail.tooltip.circulationCount")},Z=(0,u.Qb)(o),_=Z.min,O=Z.displayMinLabel?r("MomentThumbnail.Pricing.label.min"):void 0,C=(0,u.dq)(o),S=null===o||void 0===o?void 0:o.averageSaleData;return(0,i.jsx)(p.Z,{link:l,passHref:!0,trackingId:"Listing-Thumbnail",children:(0,i.jsx)("a",{children:(0,i.jsxs)(g.Z,{"data-testid":"momentThumbnail",children:[(0,i.jsx)(g.Z.TopTooltips,{children:(0,i.jsx)(g.Z.OwnedCount,{moment:o})}),(0,i.jsx)(g.Z.Image,{src:s,alt:y}),(0,i.jsxs)(g.Z.TextContainer,{children:[(0,i.jsx)(g.Z.Title,{children:y}),(0,i.jsx)(g.Z.Description,{children:x}),(0,i.jsxs)(g.Z.Subtitle,{children:[w&&(0,i.jsx)(f.Z,{}),(0,i.jsx)(g.Z.RarityTag,{children:b}),(0,i.jsxs)(g.Z.ScarcityTag,{children:[j,(0,i.jsx)(v.Z,{label:P.label,tooltip:P.tooltip})]})]}),(0,i.jsx)(g.Z.Badges,{moment:o}),(0,i.jsx)(g.Z.PriceTag,{type:h.II.MOMENT_LISTING,price:{value:_,currency:"USD"},count:C,label:O,averageSaleData:S})]})]})})})},x=n(66417),b=o.ZP.div.withConfig({displayName:"MomentUserListingThumbnailPresenter__Loading",componentId:"sc-1djavh5-0"})(["display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:13% 10% 7%;"]),j=function(e){var t=e.setID,n=e.playID,o=(0,s.Z)({setID:t,playID:n}),a=o.finiteState,d=o.momentListing;return a===l.Eb.IDLE||a===l.Eb.FETCHING?(0,i.jsxs)(b,{"data-testid":"momentThumbnail-loading",children:[(0,i.jsx)(x.Z,{variant:"rect",ratio:1}),(0,i.jsx)("br",{}),(0,i.jsx)(x.Z,{variant:"text",height:20}),(0,i.jsx)("br",{}),(0,i.jsx)(x.Z,{variant:"text",width:40})]}):a===l.Eb.ERROR||(0,r.isEmpty)(d)?null:(0,i.jsx)(y,{moment:d})}},60563:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return x}});var i=n(85893),o=n(17859),r=n(67294),l=n(5152),s=n(11163),a=n(91717),d=n(87157),c=n(71320),u=n(98398),m=n(74650),p=n(56420),g=n(30219),h=n(58826),v=n(29679),f=(0,l.default)((function(){return Promise.resolve().then((function(){return(0,o.Z)(n(48824))}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[48824]},modules:["listings/p2p/[id].js -> components/Moment/Detailed/MomentUserListingDetailed"]}});function y(e){var t,n,o,l,y,x,b,j,w,P,Z,_=e.moment,O=(0,s.useRouter)(),C=(0,a.gV)(),S=(0,m.lo)(null===(t=O.query)||void 0===t?void 0:t.id),k=(0,c.w8)({id:S}),E=k.setID,M=k.playID;return(0,r.useEffect)((function(){var e;S!==(null===(e=O.query)||void 0===e?void 0:e.id)&&(null===O||void 0===O||O.replace(O.pathname,(0,d._d)({id:S}),{shallow:!0}))}),[]),_?!!E&&!!M&&(0,i.jsxs)(r.Fragment,{children:[_&&(0,i.jsx)(h.Z,{title:(0,g.Z)("userListing.title",{priceRange:null===_||void 0===_?void 0:_.priceRange,playerName:null===_||void 0===_||null===(n=_.play)||void 0===n||null===(o=n.stats)||void 0===o?void 0:o.playerName,moments:null===_||void 0===_?void 0:_.momentListings,moment:_},C),description:(0,g.Z)("userListing.description",{homeTeamName:null===_||void 0===_||null===(l=_.play)||void 0===l||null===(y=l.stats)||void 0===y?void 0:y.homeTeamName,homeTeamScore:null===_||void 0===_||null===(x=_.play)||void 0===x||null===(b=x.stats)||void 0===b?void 0:b.homeTeamScore,awayTeamName:null===_||void 0===_||null===(j=_.play)||void 0===j||null===(w=j.stats)||void 0===w?void 0:w.awayTeamName,awayTeamScore:null===_||void 0===_||null===(P=_.play)||void 0===P||null===(Z=P.stats)||void 0===Z?void 0:Z.awayTeamScore,date:(0,u.sl)(_),playCategory:(0,u.Ni)(_)}),price:(0,g.Z)("userListing.priceRange",{priceRange:null===_||void 0===_?void 0:_.priceRange},C),image:(0,u.gn)(_,p.Qq.HERO),video:(0,u.vl)(_,p.sz.TEXTURE_1080_1080),currency:(0,g.Z)("defaults.currency")}),(0,i.jsx)(f,{setID:E,playID:M})]}):(0,i.jsx)(v.default,{})}y.defaultProps={moment:null};var x=!0;t.default=y},42837:function(e,t,n){"use strict";var i=n(85893),o=(n(67294),n(8997)),r=n(96946),l=(0,o.F4)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),s=o.ZP.div.withConfig({displayName:"Spinner__Loader",componentId:"ozaued-0"})(["animation:"," 2s linear infinite;"],l),a=function(e){var t=e.color,n=e.size,o=e.isCssColor;return(0,i.jsx)(s,{children:(0,i.jsx)(r.Z.Spinner,{color:t,size:n,isCssColor:o})})};a.defaultProps={color:void 0,size:16,isCssColor:!1},t.Z=a},76233:function(e,t,n){"use strict";n.d(t,{y:function(){return l},R:function(){return s}});var i=n(8997),o=n(99254),r=n(12363),l=i.ZP.div.withConfig({displayName:"ThumbnailLayouts__ThumbnailGrid",componentId:"sc-18xwycr-0"})(["display:grid;grid-template-columns:repeat(2,1fr);gap:",";margin:0;padding:0;list-style-type:none;@media ","{grid-template-columns:repeat( ",",1fr );gap:",";}@media ","{grid-template-columns:repeat( ",",1fr );}"],o.ZP.grid.gapSmall,o.ZP.mediaQueries.tablet,(function(e){return e.displayFewerColumns?2:3}),o.ZP.grid.gapLarge,o.ZP.mediaQueries.desktop,(function(e){return e.displayFewerColumns?3:4})),s=i.ZP.div.withConfig({displayName:"ThumbnailLayouts__ThumbnailScrollableRow",componentId:"sc-18xwycr-1"})(["display:grid;grid-template-rows:auto;grid-auto-columns:","px;grid-auto-flow:column;padding:"," 0;width:100%;overflow-x:auto;grid-gap:",";",""],r.U7.min,o.ZP.spacing[16],o.ZP.spacing[12],(function(e){return"small"!==e.size&&(0,i.iv)(["@media ","{grid-gap:",";grid-auto-columns:","px;}"],o.ZP.mediaQueries.tablet,o.ZP.spacing[12],r.U7.max)}))},44947:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listings/p2p/[id]",function(){return n(60563)}])},37176:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(67294);function o(e){var t=(0,i.useRef)();return(0,i.useEffect)((function(){t.current=e})),t.current}}},function(e){e.O(0,[5824,2246,2436,6936,6733,3395,463,9457,4925,172,6100,6474,4525,6514,8957,9774,2888,179],(function(){return t=44947,e(e.s=t);var t}));var t=e.O();_N_E=t}]);