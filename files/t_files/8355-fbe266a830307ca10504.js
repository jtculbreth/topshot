(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8355],{61314:function(i){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPackListingEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"GetPackListingEligibilityV2Input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"GetPackListingEligibilityV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"packListingId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelEligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comparator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isQualified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userValue"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:354}};e.loc.source={body:"query GetPackListingEligibility($input: GetPackListingEligibilityV2Input) {\n  GetPackListingEligibilityV2(input: $input) {\n    packListingId\n    levelEligibility {\n      isEligible\n      levelName\n      levelID\n      requirements {\n        name\n        value\n        valueType\n        comparator\n        isQualified\n        userValue\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(i,e){if("FragmentSpread"===i.kind)e.add(i.name.value);else if("VariableDefinition"===i.kind){var t=i.type;"NamedType"===t.kind&&e.add(t.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){n(i,e)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){n(i,e)})),i.definitions&&i.definitions.forEach((function(i){n(i,e)}))}var t={};function l(i,e){for(var n=0;n<i.definitions.length;n++){var t=i.definitions[n];if(t.name&&t.name.value==e)return t}}e.definitions.forEach((function(i){if(i.name){var e=new Set;n(i,e),t[i.name.value]=e}})),i.exports=e,i.exports.GetPackListingEligibility=function(i,e){var n={kind:i.kind,definitions:[l(i,e)]};i.hasOwnProperty("loc")&&(n.loc=i.loc);var o=t[e]||new Set,a=new Set,d=new Set;for(o.forEach((function(i){d.add(i)}));d.size>0;){var s=d;d=new Set,s.forEach((function(i){a.has(i)||(a.add(i),(t[i]||new Set).forEach((function(i){d.add(i)})))}))}return a.forEach((function(e){var t=l(i,e);t&&n.definitions.push(t)})),n}(e,"GetPackListingEligibility")},38355:function(i,e,n){"use strict";n.d(e,{Z:function(){return A}});var t=n(85893),l=n(67294),o=n(99254),a=n(8997),d=n(87157),s=n(46829),r=n(58637),u=n(25730),c=n(91717),v=n(86817),m=n(61314),p=n.n(m),f=n(64427),g=n(228),h=n(76753),y=n(32503),b=n(96946),k=n(66417),x=n(14712),w=n(94829),C=n(40933),S=n(2611),N=n(20346),_=a.ZP.div.withConfig({displayName:"TeamQuestCelebration__StyledRoot",componentId:"sc-1bgyx48-0"})(["position:relative;display:flex;gap:20px;flex-direction:column;width:320px;background-color:#212126;@media ","{gap:32px;flex-direction:row;width:auto;}"],o.w5.tablet),E=a.ZP.button.withConfig({displayName:"TeamQuestCelebration__StyledClosedButton",componentId:"sc-1bgyx48-1"})(["position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:40px;height:40px;"]),I=a.ZP.div.withConfig({displayName:"TeamQuestCelebration__StyledContent",componentId:"sc-1bgyx48-2"})(["display:flex;flex-direction:column;justify-content:center;@media ","{padding:0 24px 24px;}"],o.w5.mobileOnly),P=a.ZP.div.withConfig({displayName:"TeamQuestCelebration__StyledImageContainer",componentId:"sc-1bgyx48-3"})(["display:flex;align-items:center;justify-content:center;width:100%;height:130px;overflow:hidden;@media ","{width:258px;height:400px;}"],o.w5.tablet),T=a.ZP.img.withConfig({displayName:"TeamQuestCelebration__StyledImage",componentId:"sc-1bgyx48-4"})(["width:100%;@media ","{width:initial;height:100%;}"],o.w5.tablet),j=a.ZP.div.withConfig({displayName:"TeamQuestCelebration__StyledLabel",componentId:"sc-1bgyx48-5"})(["margin-bottom:16px;padding:4px;width:fit-content;color:",";font-size:11px;font-weight:bold;line-height:1;text-transform:uppercase;background-color:#15ff00;"],o.$_.trueBlack),Z=a.ZP.h2.withConfig({displayName:"TeamQuestCelebration__StyledTitle",componentId:"sc-1bgyx48-6"})([""," position:relative;margin-top:0;color:",";text-transform:uppercase;&::before{position:absolute;bottom:-",";left:0;display:inline-block;width:38px;height:6px;background-color:",";content:' ';}"],N.ZP.headings.h3,o.$_.white,o.W0[20],o.$_.white),F=a.ZP.p.withConfig({displayName:"TeamQuestCelebration__StyledDescription",componentId:"sc-1bgyx48-7"})([""," margin-top:20px;margin-bottom:20px;color:",";"],N.ZP.body.bodyMedium,o.$_.white),L=a.ZP.div.withConfig({displayName:"TeamQuestCelebration__StyledAction",componentId:"sc-1bgyx48-8"})(["width:fit-content;"]);function V(i){var e,n,l,a,d,s,r,u,c,m,p,f,g=i.isOpen,h=i.closeModal,k=i.teamSlug,x=(0,w.Z)(o.w5.tablet,!1),N=(0,y.Z)("team_quest_celebration_modal",v.eu).data,V=null===N||void 0===N?void 0:N.fields,Q=x?null===V||void 0===V||null===(e=V.collection)||void 0===e||null===(n=e[0])||void 0===n||null===(l=n.fields)||void 0===l||null===(a=l.image)||void 0===a||null===(d=a.fields)||void 0===d||null===(s=d.file)||void 0===s?void 0:s.url:null===V||void 0===V||null===(r=V.collection)||void 0===r||null===(u=r[1])||void 0===u||null===(c=u.fields)||void 0===c||null===(m=c.image)||void 0===m||null===(p=m.fields)||void 0===p||null===(f=p.file)||void 0===f?void 0:f.url;return(0,t.jsx)(C.Z,{isOpen:g,onRequestClose:h,contentStyle:{width:"fit-content"},children:(0,t.jsxs)(_,{children:[(0,t.jsx)(E,{onClick:h,children:(0,t.jsx)(b.Z.ThickCross,{size:26,isCssColor:!0})}),(0,t.jsx)(P,{children:(0,t.jsx)(T,{src:Q,alt:""})}),(0,t.jsxs)(I,{children:[(0,t.jsx)(j,{children:"Completed"}),(0,t.jsxs)(Z,{children:[k," quest"]}),(0,t.jsx)(F,{children:null===V||void 0===V?void 0:V.description}),(0,t.jsx)(L,{children:(0,t.jsx)(S.Z,{as:"a",href:null===V||void 0===V?void 0:V.ctaUrl,trackingId:"Team quest celebration modal",variant:"light",children:null===V||void 0===V?void 0:V.ctaText})})]})]})})}V.defaultProps={isOpen:null,closeModal:null,teamSlug:null};var Q=V,D=n(30447),O=a.ZP.img.withConfig({displayName:"TeamQuestPresenter__StyledRewardImage",componentId:"sc-1o79a0j-0"})(["position:absolute;top:calc(50% - 4px);right:20px;z-index:1;width:70px;height:auto;transform:",";@media ","{right:40px;}"],(function(i){return i.$isPackImage?"translateY(-50%) rotate(10deg)":"translateY(-50%);"}),o.w5.tablet),q=a.ZP.img.withConfig({displayName:"TeamQuestPresenter__StyledCustomBGImage",componentId:"sc-1o79a0j-1"})(["position:absolute;top:calc(50%);right:-80px;z-index:0;width:160px;height:auto;opacity:0.3;filter:grayscale(1);transform:translateY(-50%);"]),G=a.ZP.div.withConfig({displayName:"TeamQuestPresenter__StyledCloseButton",componentId:"sc-1o79a0j-2"})(["position:absolute;top:0;right:0;z-index:2;color:white;&:hover{opacity:0.5;}"]);function z(i){var e,n,o,a,m,w,C,S,N,_,E,I,P,T,j,Z,F,L,V,z,A,M,$,B,R,U,H=i.setVisibility,Y=(0,l.useState)(!1),W=Y[0],J=Y[1],K=(0,l.useState)(!0),X=K[0],ii=K[1],ei=(0,c.gV)(),ni=(0,g.Z)({query:h.tf,fetchPolicy:"network-only"}),ti=ni.currentUser,li=ni.currentUserFsm,oi=ni.FS,ai=(0,y.Z)("ChallengeBanner",v.j9),di=ai.loading,si=ai.data,ri=null===si||void 0===si||null===(e=si.fields)||void 0===e||null===(n=e.structure)||void 0===n?void 0:n.packID,ui=null===si||void 0===si||null===(o=si.fields)||void 0===o||null===(a=o.structure)||void 0===a?void 0:a.maxPacks,ci=(0,s.useQuery)(p(),{variables:{input:{packListingId:ri}},skip:!ri}),vi=ci.data,mi=ci.loading,pi=null===vi||void 0===vi||null===(m=vi.GetPackListingEligibilityV2)||void 0===m||null===(w=m.levelEligibility)||void 0===w||null===(C=w[0])||void 0===C?void 0:C.requirements,fi=parseInt(null===pi||void 0===pi||null===(S=pi.find((function(i){return"packs_purchased"===(null===i||void 0===i?void 0:i.name)})))||void 0===S?void 0:S.userValue),gi=null===vi||void 0===vi||null===(N=vi.GetPackListingEligibilityV2)||void 0===N||null===(_=N.levelEligibility)||void 0===_||null===(E=_[0])||void 0===E?void 0:E.isEligible,hi=null===ti||void 0===ti||null===(I=ti.publicInfo)||void 0===I?void 0:I.dapperID,yi=(0,f.Z)({variables:{input:{dapperID:hi}},skip:!hi||!(null===ei||void 0===ei?void 0:ei.dynamicQuest)}),bi=yi.ballerStatus,ki=yi.fsm,xi=yi.FS,wi=null===bi||void 0===bi?void 0:bi.milestones.find((function(i){return"COLLECT_FAVORITE_TEAM_MOMENT"===(null===i||void 0===i?void 0:i.label)})),Ci=null===si||void 0===si||null===(P=si.fields)||void 0===P?void 0:P.structure,Si=null===wi||void 0===wi||null===(T=wi.orderedTasks)||void 0===T?void 0:T[0],Ni="COMPLETE"===(null===Si||void 0===Si?void 0:Si.status);if((0,l.useEffect)((function(){if(hi)if(fi>=ui)H(!1),(0,r.LS)((0,D.Sb)(hi),!0),(0,r.LS)((0,D.yO)(hi),!0);else{var i,e=null!==(i=(0,r.rV)((0,D.Sb)(hi)))&&void 0!==i&&i;(0,r.rV)((0,D.yO)(hi))||ii(!1),Ni&&!e&&gi&&(J(!0),(0,r.LS)((0,D.Sb)(hi),!0))}}),[hi,Ni,fi,ui]),!ei.dynamicQuest)return null;if(di||mi||li===oi.IDLE||li===oi.FETCHING||ki===xi.IDLE||ki===xi.FETCHING)return(0,t.jsx)(k.Z,{height:"100%"});if(!ti||!bi||X)return null;var _i=null===ti||void 0===ti||null===(j=ti.publicInfo)||void 0===j?void 0:j.favoriteTeamID,Ei=(0,u.NN)(_i),Ii=(0,u.qF)((0,u.Vz)(Ei)),Pi=null===Si||void 0===Si?void 0:Si.numRequiredActions,Ti=null===wi||void 0===wi?void 0:wi.numCompletedActions,ji=Ti>3?Pi:Ti,Zi=null===Ci||void 0===Ci||null===(Z=Ci.copyVariations)||void 0===Z?void 0:Z[ji],Fi=null===Ci||void 0===Ci?void 0:Ci.completedLink,Li=_i?(0,d.gx)({byTeams:[_i],orderBy:["PRICE_USD_ASC"]}):(0,d.gx)(),Vi=Ei?Li:"/#teams",Qi=_i?null===Zi||void 0===Zi?void 0:Zi.title:null===Ci||void 0===Ci||null===(F=Ci.noFavouriteTeamCopy)||void 0===F?void 0:F.title,Di=_i?null===Zi||void 0===Zi?void 0:Zi.description:null===Ci||void 0===Ci||null===(L=Ci.noFavouriteTeamCopy)||void 0===L?void 0:L.description,Oi=(null===si||void 0===si||null===(V=si.fields)||void 0===V||null===(z=V.reward)||void 0===z||null===(A=z.fields)||void 0===A||null===(M=A.file)||void 0===M?void 0:M.url)?"https://www.nbatopshot.com/cdn-cgi/image/width=240/https:".concat(null===si||void 0===si||null===($=si.fields)||void 0===$||null===(B=$.reward)||void 0===B||null===(R=B.fields)||void 0===R||null===(U=R.file)||void 0===U?void 0:U.url):null,qi=null!==Oi&&void 0!==Oi?Oi:Ii;return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)(x.Z,{icon:_i?null:"BallerStatus",category:_i?"".concat(Ei," Quest"):null,title:Qi,description:Di,completedCount:Ti,requiredCount:Pi,isCompleted:Ni,secondaryAction:(0,t.jsx)(l.Fragment,{children:Ni&&(0,t.jsx)(G,{onClick:function(){H(!1),(0,r.LS)((0,D.yO)(hi),!0),ii(!0)},children:(0,t.jsx)(b.Z.ThickCross,{size:26,isCssColor:!0})})}),primaryHref:Ni&&Fi?Fi:Vi,children:[!!qi&&(0,t.jsx)(O,{$isPackImage:!!Oi,src:qi}),!!Ii&&(0,t.jsx)(q,{src:Ii})]}),(0,t.jsx)(Q,{teamSlug:Ei,isOpen:W,closeModal:function(){return J(!1)}})]})}z.defaultProps={setVisibility:function(){}};var A=z}}]);