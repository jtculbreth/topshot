"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{20195:function(e,n,t){t.d(n,{Z:function(){return F}});var o=t(85893),i=t(67294),r=t(8997),l=t(96486),u=t(99254),d=t(30447),s=t(228),a=t(58637),c=t(91717),v=t(42328),p=t(70849),f=t(66417),y=t(14712),b=t(96946),m=t(92809),g=t(52209),h=t(46829),w=t(89289),I=t(66034),O=t(86817),C=t(95568),E=t(32503),P=t(98886),x=t(41119);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,m.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(){var e=(0,g.Z)(["\n  query CELEBRITY_QUEST {\n    getMintedMomentProgressForQuest {\n      current\n      total\n      complete\n    }\n  }\n"]);return S=function(){return e},e}var k="quavos-quest",Z=(0,w.ZP)(S()),Q={DEFAULT:{key:"initialState",isCountdownVisible:!0,color:u.$_.brand[500]},EXPIRING:{key:"expiring",isCountdownVisible:!0,color:u.$_.red[700]},EXPIRED:{key:"expired",isCountdownVisible:!1,text:"Expired",color:u.$_.grey[900]},ABLE_TO_COMPLETE:{key:"submit",isCountdownVisible:!1,text:"Submit now",color:u.$_.white},COMPLETED:{key:"completed",isCountdownVisible:!1,color:u.$_.green[600]}};function T(e){var n,t,o,i,r,u,d,a,c,v,p,f,y,b,m,g,w,j,S=e.skip,T=(0,s.Z)().currentUser,_=(0,h.useQuery)(Z,{fetchPolicy:"network-only",skip:S}),$=_.data,U=_.loading,q=(0,C.Z)({byQuestID:k,limit:null===$||void 0===$||null===(n=$.getMintedMomentProgressForQuest)||void 0===n?void 0:n.total,skip:S,fetchPolicy:"network-only"}).showcases,L=(0,P.Z)(x.fQ,D(D({},x.DJ),{},{"fields.slug":k})),M=L.data,B=L.loading,A=(0,E.Z)("CelebrityBanner",O.$G),N=A.loading,R=A.data,V=U||B||N;if(S)return null;if(V)return{isLoading:V};var F=null===M||void 0===M||null===(t=M.items)||void 0===t||null===(o=t[0])||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.endDate,G=(0,I.ab)(new Date(F)),H=(0,I.lu)(F),X=0===(null===G||void 0===G?void 0:G.years)&&0===(null===G||void 0===G?void 0:G.months)&&0===(null===G||void 0===G?void 0:G.days)&&(null===G||void 0===G?void 0:G.hours)<=24&&!H,z=null===$||void 0===$||null===(r=$.getMintedMomentProgressForQuest)||void 0===r?void 0:r.complete,J=z&&!(0,l.isEmpty)(q),W=function(e,n,t,o){return n?Q.EXPIRING:e?Q.EXPIRED:t&&!o?Q.ABLE_TO_COMPLETE:o?Q.COMPLETED:Q.DEFAULT}(H,X,z,J),Y=null===R||void 0===R||null===(u=R.fields)||void 0===u||null===(d=u.structure)||void 0===d?void 0:d[null===W||void 0===W?void 0:W.key],K=null===Y||void 0===Y?void 0:Y.title,ee=null===Y||void 0===Y?void 0:Y.subTitle,ne=null===Y||void 0===Y?void 0:Y.description;return{data:{userID:null===T||void 0===T||null===(a=T.publicInfo)||void 0===a?void 0:a.dapperID,eventEndTime:F,isExpired:H,isExpiring:X,isWaitingSubmission:z,title:K,subTitle:ee,description:ne,isCompleted:J,completedCount:null===$||void 0===$||null===(c=$.getMintedMomentProgressForQuest)||void 0===c?void 0:c.current,requiredCount:null===$||void 0===$||null===(v=$.getMintedMomentProgressForQuest)||void 0===v?void 0:v.total,labelInfo:D({},W),rewardImage:null===R||void 0===R||null===(p=R.fields)||void 0===p||null===(f=p.reward)||void 0===f||null===(y=f.fields)||void 0===y||null===(b=y.file)||void 0===b?void 0:b.url,completedUrl:null===R||void 0===R||null===(m=R.fields)||void 0===m||null===(g=m.structure)||void 0===g?void 0:g.completedLink,defaultUrl:null===R||void 0===R||null===(w=R.fields)||void 0===w||null===(j=w.structure)||void 0===j?void 0:j.defaultLink},isLoading:!1}}var _=t(20346),$=r.ZP.img.withConfig({displayName:"CelebrityQuestStyles__StyledRewardImage",componentId:"sc-1dns1q3-0"})(["height:100%;"]),U=r.ZP.div.withConfig({displayName:"CelebrityQuestStyles__StyledRewardContainer",componentId:"sc-1dns1q3-1"})(["position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:90px;height:100%;overflow:hidden;@media ","{width:100px;}"],u.w5.tablet),q=r.ZP.div.withConfig({displayName:"CelebrityQuestStyles__StyledLabel",componentId:"sc-1dns1q3-2"})(["position:absolute;top:",";left:",";display:",";align-items:center;justify-content:center;padding:0 4px;background-color:",";transform:",";@media ","{position:initial;display:",";margin-left:1ch;}"],(function(e){return e.$isCountdown?"19px":"24px"}),(function(e){return e.$isCountdown?"60px":"66px"}),(function(e){return e.$isMobile?"flex":"none"}),(function(e){var n=e.$backgroundColor;return n||u.$_.black[700]}),(function(e){return e.$isCountdown?"scale(0.8)":"scale(1)"}),u.w5.tablet,(function(e){return e.$isMobile?"none":"flex"})),L=r.ZP.span.withConfig({displayName:"CelebrityQuestStyles__StyledLabelText",componentId:"sc-1dns1q3-3"})([""," text-transform:uppercase;letter-spacing:2.2px;color:",";"],_.ZP.body.bodySmall,u.$_.trueBlack),M=r.ZP.button.withConfig({displayName:"CelebrityQuestStyles__StyledCloseButton",componentId:"sc-1dns1q3-4"})(["position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;padding:0;width:30px;height:30px;color:white;background-color:rgb(0 0 0 / 75%);&:hover{background-color:black;}"]);function B(e){var n,t,r,u,s,v,m,g,h=e.setVisibility,w=(0,c.gV)(),I=T({skip:!w.quavoPromo}),O=I.data,C=I.isLoading;if(!w.quavoPromo)return null;if(C)return(0,o.jsx)(f.Z,{height:150});if((0,l.isEmpty)(O))return null;var E=(null===O||void 0===O?void 0:O.rewardImage)?"https://www.nbatopshot.com/cdn-cgi/image/width=240/https:".concat(null===O||void 0===O?void 0:O.rewardImage):null;return(0,o.jsx)(y.Z,{icon:null,category:null===O||void 0===O?void 0:O.title,title:null===O||void 0===O?void 0:O.subTitle,description:null===O||void 0===O?void 0:O.description,completedCount:null===O||void 0===O?void 0:O.completedCount,requiredCount:null===O||void 0===O?void 0:O.requiredCount,isCompleted:!!(null===O||void 0===O?void 0:O.isCompleted),customLabel:(0,o.jsx)(q,{$isCountdown:!(null===O||void 0===O||null===(n=O.labelInfo)||void 0===n?void 0:n.text),$backgroundColor:null===O||void 0===O||null===(t=O.labelInfo)||void 0===t?void 0:t.color,children:(null===O||void 0===O||null===(r=O.labelInfo)||void 0===r?void 0:r.isCountdownVisible)?(0,o.jsx)(p.Z,{expirationDate:null===O||void 0===O?void 0:O.eventEndTime}):(0,o.jsx)(L,{children:null===O||void 0===O||null===(u=O.labelInfo)||void 0===u?void 0:u.text})}),secondaryAction:(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(q,{$isMobile:!0,$isCountdown:!(null===O||void 0===O||null===(s=O.labelInfo)||void 0===s?void 0:s.text),$backgroundColor:null===O||void 0===O||null===(v=O.labelInfo)||void 0===v?void 0:v.color,children:(null===O||void 0===O||null===(m=O.labelInfo)||void 0===m?void 0:m.isCountdownVisible)?(0,o.jsx)(p.Z,{expirationDate:null===O||void 0===O?void 0:O.eventEndTime}):(0,o.jsx)(L,{children:null===O||void 0===O||null===(g=O.labelInfo)||void 0===g?void 0:g.text})}),(null===O||void 0===O?void 0:O.isCompleted)&&(0,o.jsx)(M,{onClick:function(){h(!1),(0,a.LS)((0,d.Iu)(null===O||void 0===O?void 0:O.userID),!0)},children:(0,o.jsx)(b.Z.ThickCross,{size:26,isCssColor:!0})})]}),primaryHref:(null===O||void 0===O?void 0:O.isCompleted)?null===O||void 0===O?void 0:O.completedUrl:null===O||void 0===O?void 0:O.defaultUrl,children:!!E&&(0,o.jsx)(U,{children:(0,o.jsx)($,{src:E})})})}B.defaultProps={setVisibility:null};var A=B,N=t(38355),R=r.ZP.div.withConfig({displayName:"ActiveQuestsContainer__StyledRoot",componentId:"gu7gtr-0"})(["display:grid;grid-template-columns:",";column-gap:16px;overflow-x:auto;overflow-x:overlay;overflow-y:hidden;&::-webkit-scrollbar{width:0px;background:transparent;}@media ","{grid-template-columns:",";}"],(function(e){var n=e.$numberOfActiveQuests;return"repeat(".concat(n,", minmax(276px, 1fr))")}),u.ZP.mediaQueries.tablet,(function(e){var n=e.$numberOfActiveQuests;return"repeat(".concat(n,", minmax(538px, 1fr))")}));function V(){var e=(0,c.gV)(),n=(0,s.Z)().currentUser,t=(0,i.useState)(null===e||void 0===e?void 0:e.quavoPromo),r=t[0],u=t[1],p=(0,i.useState)(null===e||void 0===e?void 0:e.dynamicQuest),f=p[0],y=p[1];(0,i.useEffect)((function(){var e,t=null===n||void 0===n||null===(e=n.publicInfo)||void 0===e?void 0:e.dapperID;if(t){var o=(0,a.rV)((0,d.Iu)(t)),i=(0,a.rV)((0,d.yO)(t));o&&u(!1),i&&y(!1)}}),[n,e]);var b=[(null===e||void 0===e?void 0:e.quavoPromo)&&!!r,(null===e||void 0===e?void 0:e.dynamicQuest)&&!!f].filter(Boolean).length;return!b||(0,l.isEmpty)(n)?null:(0,o.jsx)(v.Z,{children:(0,o.jsxs)(R,{$numberOfActiveQuests:b,children:[(null===e||void 0===e?void 0:e.quavoPromo)&&r&&(0,o.jsx)(A,{setVisibility:u}),(null===e||void 0===e?void 0:e.dynamicQuest)&&f&&(0,o.jsx)(N.Z,{setVisibility:y})]})})}V.defaultProps={};var F=V},98886:function(e,n,t){var o=t(92809),i=t(88768),r=t(84441);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,r.$)(n["sys.id"]),l=u(u({},n),{},{"sys.id":o});return(0,i.Z)(e,"getEntries",[l],t)}},95568:function(e,n,t){t.d(n,{Z:function(){return y}});var o=t(92809),i=t(8132),r=t(67294),l=t(46829),u=t(52209);function d(){var e=(0,u.Z)(["\n  query SearchShowcases(\n    $sortBy: ShowcasesSortType\n    $byUserID: String!\n    $byQuestID: ID\n    $searchInput: BaseSearchInput!\n  ) {\n    searchShowcases(\n      input: {\n        sortBy: $sortBy\n        filters: { byUserID: $byUserID, byQuestID: $byQuestID }\n        searchInput: $searchInput\n      }\n    ) {\n      data {\n        sortBy\n        filters {\n          byUserID\n          byQuestID\n        }\n        searchSummary {\n          pagination {\n            leftCursor\n            rightCursor\n          }\n          data {\n            ... on Showcases {\n              size\n              data {\n                id\n                sortID\n                version\n                name\n                userID\n                momentIDs\n                questID\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var s=(0,t(95990).ZP)(d()),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sortBy,t=void 0===n?"CREATED_AT_ASC":n,o=e.byUserID,i=void 0===o?"":o,r=e.byQuestID,l=void 0===r?null:r,u=e.cursor,d=void 0===u?"":u,s=e.limit,a=void 0===s?12:s;return{sortBy:t,byUserID:i,byQuestID:l,searchInput:{pagination:{cursor:d,direction:"RIGHT",limit:a}}}},c=t(228),v=t(55381);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(){var e,n,t,o,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=d.query,y=void 0===p?s:p,b=d.sortBy,m=d.byQuestID,g=(0,i.Z)(d,["query","sortBy","byQuestID"]),h=(0,c.Z)(),w=h.currentUser,I=h.currentUserFsm,O=h.FS,C=null===w||void 0===w||null===(e=w.publicInfo)||void 0===e?void 0:e.dapperID,E=(0,l.useQuery)(y,f({variables:a({sortBy:b,byQuestID:m,byUserID:C}),skip:!C},g)),P=E.loading,x=E.error,j=E.data,D=null===j||void 0===j||null===(n=j.searchShowcases)||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.searchSummary)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.data,S=(0,r.useMemo)((function(){return P||I===O.FETCHING?v.E.FETCHING:x||I===O.ERROR?v.E.ERROR:I===O.NOT_AUTHENTICATED?v.E.NOT_AUTHENTICATED:v.E.SUCCESS}),[P,x,I,O]);return{fsm:S,FS:v.E,showcases:D}}}}]);