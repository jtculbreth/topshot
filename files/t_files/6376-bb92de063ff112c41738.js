"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6376],{32381:function(e,t,o){var n=o(92809),i=o(85893),r=o(40304),a=o(67294),s=o(42052),c=o(49487);function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e){var t=e.children,o=e.stringToCopy,n=e.originalMessage,l=e.successMessage,u=e.errorMessage,p=e.tooltipProps,f=(0,a.useState)(n),h=f[0],g=f[1],m=(0,s.Z)(),v=(0,r.Z)(m,2),y=v[0],w=v[1];return(0,a.useEffect)((function(){y.error?g(u):y.value&&g(l)}),[u,y,l]),(0,i.jsx)("div",{"data-testid":"showcase-copyToClipboardWrapper",role:"button",onMouseEnter:function(){return g(n)},onClick:function(){return w(o)},children:(0,i.jsx)(c.ZP,d({content:h,prompt:t},p))})}u.defaultProps={children:void 0,originalMessage:"Copy link to clipboard",successMessage:"Link copied to your clipboard!",errorMessage:"An error ocurred while copying",tooltipProps:{}},t.Z=u},68786:function(e,t,o){o.d(t,{Z:function(){return V}});var n=o(85893),i=o(809),r=o.n(i),a=o(30266),s=o(92809),c=o(8132),l=o(67294),d=o(11163),u=o(76752),p=o(91717),f=o(87157),h=o(87445),g=o(30648),m=o(52921),v="likeShowcase",y=o(228),w=o(18578),b=o(53665),x=o(70768),j=o(42328),P=o(8997),O=o(7090),k=o(5012),Z=o(2611),S=o(96946),I=P.ZP.div.withConfig({displayName:"LikeButton__StyledLabelWrapper",componentId:"sc-120720q-0"})(["display:flex;flex-flow:row nowrap;justify-content:center;align-items:center;"]),C=P.ZP.span.withConfig({displayName:"LikeButton__StyledLabel",componentId:"sc-120720q-1"})(["user-select:none;"]);function _(e){var t=e.count,o=e.isLiked,i=e.trackingId,r=e.trackingProperties,a=e.onLikeClick,s=e.loading,c=(0,O.$)().t,l=(0,k.u)(t);return(0,n.jsx)(Z.Z,{size:"small","data-testid":"likeButton-action--like",trackingId:null!==i&&void 0!==i?i:"likeButton-action--like",trackingProperties:r,onClick:function(){return a()},variant:"light",transparent:!o,disabled:s,children:(0,n.jsxs)(I,{children:[(0,n.jsx)(C,{children:l<=0?c("LikeButton.like"):l}),(0,n.jsx)(S.Z.Fire,{width:20,strokeColor:o?"transparent":"white",color:o?"#E35450":"transparent"})]})})}_.defaultProps={count:0,isLiked:!1,onLikeClick:function(){},trackingId:void 0,trackingProperties:void 0,loading:!1};var L=_,R=o(99254),E=o(58637),D=o(48605),N="closed-showcase-tooltip",T=P.ZP.div.withConfig({displayName:"ShowcaseLikesTooltip__StyledRoot",componentId:"sc-1wnu8zu-0"})(["position:absolute;top:calc(100% + 16px);left:50%;z-index:",";padding:12px 21px 8px;width:fit-content;width:247px;background-color:rgba(10,10,10,0.9);border:1px solid ",";border-radius:3px;transform:translateX(-50%);&::before,&::after{position:absolute;width:0;height:0;content:'';}&::before{top:-8px;left:50%;margin-left:-10px;border-right:10px solid transparent;border-bottom:8px solid ",";border-left:10px solid transparent;}&::after{top:-6px;left:50%;margin-left:-8px;border-right:8px solid transparent;border-left:8px solid transparent;border-bottom-color:",";border-bottom-style:solid;border-bottom-width:6px;}"],R.ug("modal"),R.$_.white,R.$_.white,R.to.black),B=P.ZP.h4.withConfig({displayName:"ShowcaseLikesTooltip__StyledHeader",componentId:"sc-1wnu8zu-1"})(["margin-bottom:4px;color:",";font-size:13px;"],R.$_.white),A=P.ZP.p.withConfig({displayName:"ShowcaseLikesTooltip__StyledBody",componentId:"sc-1wnu8zu-2"})(["color:",";font-size:13px;"],R.$_.white),z=(0,P.ZP)(S.Z.X).withConfig({displayName:"ShowcaseLikesTooltip__StyledCloseButton",componentId:"sc-1wnu8zu-3"})(["position:absolute;top:8px;right:8px;cursor:pointer;"]);var H=function(e){var t=e.showcaseId,o=(0,O.$)().t,i=(0,l.useState)(!0),r=i[0],a=i[1];return(0,l.useEffect)((function(){!(0,E.rV)("".concat(N,"-").concat(t))&&r&&a(!1)}),[r,t]),r?null:(0,n.jsxs)(T,{children:[(0,n.jsx)(z,{onClick:function(){a(!0),(0,E.LS)("".concat(N,"-").concat(t),!0)},color:R.$_.white,size:16}),(0,n.jsx)(B,{children:o("ShowcaseLikes.TooltipPrompt.header")}),(0,n.jsx)(A,{dangerouslySetInnerHTML:{__html:(0,D.T)(o("ShowcaseLikes.TooltipPrompt.body"))}})]})};function $(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?$(Object(o),!0).forEach((function(t){(0,s.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function M(e){var t,o=e.showcaseId,i=e.onLikeCallback,P=e.shouldRenderTooltip,O=(0,c.Z)(e,["showcaseId","onLikeCallback","shouldRenderTooltip"]),k=(0,d.useRouter)(),Z=(0,p.gV)(),S=(0,l.useState)(!1),I=S[0],C=S[1],_=(0,l.useState)(!1),R=_[0],E=_[1],D=(0,f.TO)(U(U({},(null===Z||void 0===Z?void 0:Z.feature_signUpRedirect)&&(0,s.Z)({},m.D9,"login")),Z.showcaseLikeButton&&(0,s.Z)({},v,!0))),N=(0,h.PM)(null===k||void 0===k?void 0:k.asPath),T=!!(null===N||void 0===N?void 0:N[v]),B=(0,y.Z)(),A=B.currentUser,z=B.FS,$=B.currentUserFsm,M=null===A||void 0===A||null===(t=A.publicInfo)||void 0===t?void 0:t.dapperID,V=function(){var e=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0);try{(0,g.D1)((0,f.eK)({showcaseId:o}))}catch(t){(0,u.Tb)(t)}k.push(D);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=(0,w.Z)({variables:{showcaseID:o,userID:M},skip:!o}),Q=F.showcaseLikes,G=F.showcaseLikesLoading,q=F.showcaseLikesError,K=F.refetch,W=(0,b.Z)({variables:{showcaseID:o,userID:M},skip:!M||!o}),X=W.updateShowcaseLikes,J=W.updateShowcaseLikesLoading,Y=W.updateShowcaseLikesError,ee=null===Q||void 0===Q?void 0:Q.likesCount,te=null===Q||void 0===Q?void 0:Q.hasUserLiked;(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T||!M){e.next=4;break}return e.next=3,X();case 3:(0,g.sw)([v]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T,M,X]);var oe=(0,l.useCallback)((0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($!==z.NOT_AUTHENTICATED){e.next=4;break}E(!0),e.next=8;break;case 4:return!te&&i&&i(),e.next=7,X();case 7:K();case 8:case"end":return e.stop()}}),e)}))),[$,z,te,X,K,i]);return q||Y?null:(0,n.jsxs)(l.Fragment,{children:[(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(L,U({count:ee,isLiked:te,onLikeClick:oe,loading:G||J},O)),P&&!G&&!te&&(0,n.jsx)(H,{showcaseId:o})]}),(0,n.jsx)(x.Z,{isOpen:R,setIsModalOpen:E,onRedirectConfirmation:V,isLoading:I,buttonTrackingId:"dapperAccountCreation-showcaseLikeButton"})]})}M.defaultProps={showcaseId:void 0,onLikeCallback:function(){},shouldRenderTooltip:!1};var V=M},2072:function(e,t,o){o.d(t,{H:function(){return n}});var n="fromCommunity"},18578:function(e,t,o){o.d(t,{Z:function(){return m}});var n=o(92809),i=o(67294),r=o(46829),a="IDLE",s="FETCHING",c="ERROR",l="SUCCESS",d={context:{clientName:"growthAPI"}},u=o(52209);function p(){var e=(0,u.Z)(["\n  query getShowcaseLikes($showcaseID: String, $userID: String) {\n    getShowcaseLikes(showcaseID: $showcaseID, userID: $userID) {\n      id\n      likesCount\n      hasUserLiked\n    }\n  }\n"]);return p=function(){return e},e}var f=(0,o(95990).ZP)(p());function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,o=void 0===t?f:t,n=e.variables,u=void 0===n?{}:n,p=e.context,h=void 0===p?d:p,m=(0,i.useState)(a),v=m[0],y=m[1],w=(0,r.useQuery)(o,g(g({variables:u,skip:!(null===u||void 0===u?void 0:u.showcaseID)},h),{},{fetchPolicy:"network-only"})),b=w.loading,x=w.error,j=w.data,P=w.refetch,O=null===j||void 0===j?void 0:j.getShowcaseLikes;return(0,i.useEffect)((function(){y(b?s:x?c:l)}),[x,b]),{showcaseLikes:O,showcaseLikesError:x,showcaseLikesFsm:v,showcaseLikesLoading:b,refetch:P}}},53665:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(92809),i=o(40304),r=o(67294),a=o(46829),s={IDLE:"IDLE",FETCHING:"UPDATING",ERROR:"ERROR",SUCCESS:"SUCCESS"},c={context:{clientName:"growthAPI"}},l=o(52209);function d(){var e=(0,l.Z)(["\n  mutation updateShowcaseLikes($showcaseID: String, $userID: String) {\n    updateShowcaseLikes(showcaseID: $showcaseID, userID: $userID) {\n      id\n      likesCount\n      hasUserLiked\n    }\n  }\n"]);return d=function(){return e},e}var u=(0,o(95990).ZP)(d());function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mutation,o=void 0===t?u:t,n=e.variables,l=e.context,d=void 0===l?c:l,p=(0,r.useState)(s.IDLE),h=p[0],g=p[1],m=(0,a.useMutation)(o,f({variables:n},d)),v=(0,i.Z)(m,2),y=v[0],w=v[1],b=w.loading,x=w.error,j=w.data,P=null===j||void 0===j?void 0:j.updateShowcaseLikes;return(0,r.useEffect)((function(){b?g(s.UPDATING):x?g(s.ERROR):j&&g(s.SUCCESS)}),[b,x,j]),{updateShowcaseLikes:y,updateShowcaseLikesError:x,updateShowcaseLikesFsm:h,updateShowcaseLikesLoading:b,updateShowcaseLikesResponse:P}}},94329:function(e,t,o){o.d(t,{Z:function(){return it}});var n={};o.r(n),o.d(n,{seek:function(){return b},start:function(){return w},videoLoaded:function(){return y}});var i=o(85893),r=o(40304),a=o(92809),s=o(67294),c=o(11163),l=o(8997),d=o(99254),u=o(1338),p=o(91717),f=o(98398),h=o(56420),g=(0,o(82488).J)({id:"videoReel",initial:"loading",context:{playlist:[],pointer:0},states:{loading:{on:{VIDEO_LOADED:{target:"loading",actions:["videoLoaded"]},FAIL:"failure"},always:[{target:"ready",cond:function(e){var t=e.total;return e.playlist.filter(Boolean).length===t}}]},ready:{initial:"initialized",states:{initialized:{on:{START:{target:"playing",actions:["start"]}}},playing:{on:{SEEK:[{target:"playing",actions:["seek"]}]}}}},failure:{type:"final"}}}),m=o(20273),v=o(30375),y=(0,v.f0)({playlist:function(e,t){var o=e.playlist,n=t.video,i=t.index;return[].concat((0,m.Z)(o.slice(0,i)),[n],(0,m.Z)(o.slice(i)))}}),w=(0,v.f0)({pointer:function(){return 0}}),b=(0,v.f0)({pointer:function(e,t){return t.pointer}}),x=o(40933),j=o(75662),P=o(96946),O=(0,l.ZP)(j.Z).withConfig({displayName:"ActionClose__StyledRoot",componentId:"sc-10q0s89-0"})(["padding:8px;"]);function k(e){var t=e.closeModal;return(0,i.jsx)(O,{trackingId:"showcase-videoReel-close",transparent:!0,onClick:t,children:(0,i.jsx)(P.Z.X,{color:"#fff"})})}k.defaultProps={closeModal:function(){}};var Z=k,S=o(68786);function I(e){var t=e.showcaseId;return(0,i.jsx)(S.Z,{showcaseId:t,trackingId:"showcase-videoReel-action--like"})}I.defaultProps={showcaseId:void 0};var C=I,_=o(94829),L=o(87157),R=o(32381),E=o(2611),D=(0,l.ZP)(E.Z).withConfig({displayName:"ActionShare__StyledButton",componentId:"whbvlr-0"})(["width:100%;"]);var N=function(e){var t,o,n=e.showcaseId,r=(0,_.Z)("(min-width: 768px)"),a="".concat(null===(t=window)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.origin).concat((0,L.eK)({showcaseId:n}),"?isPlaying=true");return(0,i.jsx)(R.Z,{stringToCopy:a,tooltipProps:{placement:"left"},children:(0,i.jsx)(D,{id:"showcase-videoReel-action-share",variant:"light",transparent:!0,trackingId:"showcase-videoReel-action-share","data-testid":"showcase-videoReel-action-share",icon:P.Z.Share,children:r?"Share":null})})},T=o(39920),B=o(37089),A=o(30121),z=o(45432),H=o(81978),$=o(58637),U=o(43423),M=o(33087),V=o(88893),F=l.ZP.button.withConfig({displayName:"Song__StyledButton",componentId:"ofqu0n-0"})(["outline:none;"]),Q="IS_REEL_AUTOPLAYING";var G=function(){var e=(0,$.rV)(Q),t=(0,U.Z)().track,o=(0,s.useState)(!!e),n=o[0],a=o[1],c=(0,H.Z)({src:"/static/sound/showcases/showcase-song.mp3",autoPlay:!!e,loop:!0}),l=(0,r.Z)(c,4),d=l[0],u=(l[1],l[2]);return l[3],(0,i.jsxs)("div",{children:[d,(0,i.jsx)(F,{type:"button",onClick:function(){n?(t("showcaseReel pause song"),a(!1),(0,$.LS)(Q,!1),u.pause()):(t("showcaseReel play song"),a(!0),(0,$.LS)(Q,!0),u.play())},children:n?(0,i.jsx)(V.Z,{color:"white"}):(0,i.jsx)(M.Z,{color:"white"})})]})},q=(0,l.ZP)(T.animated.div).withConfig({displayName:"Header__StyledRoot",componentId:"sc-1pu75va-0"})(["display:grid;grid-template-areas:'sound heading actions' '. info info';grid-template-columns:auto 1fr auto;grid-gap:",";align-items:center;"],d.ZP.spacing[20]),K=l.ZP.div.withConfig({displayName:"Header__StyledSound",componentId:"sc-1pu75va-1"})(["grid-area:sound;"]),W=l.ZP.div.withConfig({displayName:"Header__StyledHeading",componentId:"sc-1pu75va-2"})(["grid-area:heading;@media ","{display:none;}"],d.ZP.mediaQueries.mobileOnly),X=l.ZP.div.withConfig({displayName:"Header__StyledActions",componentId:"sc-1pu75va-3"})(["display:grid;grid-template-columns:",";grid-gap:15px;grid-area:actions;justify-self:end;@media ","{display:none;}"],(function(e){return e.$displayShowcaseLikeButton?"auto 1fr":"1fr"}),d.ZP.mediaQueries.mobileOnly),J=l.ZP.div.withConfig({displayName:"Header__StyledInfo",componentId:"sc-1pu75va-4"})(["display:grid;grid-area:info;row-gap:20px;@media ","{display:none;}"],d.ZP.mediaQueries.mobileOnly),Y=l.ZP.a.withConfig({displayName:"Header__StyledUserInfo",componentId:"sc-1pu75va-5"})(["display:grid;grid-template-columns:auto auto;column-gap:10px;align-items:center;max-width:fit-content;@media ","{display:none;}"],d.ZP.mediaQueries.mobileOnly),ee=l.ZP.img.withConfig({displayName:"Header__StyledUserImg",componentId:"sc-1pu75va-6"})(["width:40px;height:40px;overflow:hidden;border:1px solid ",";border-radius:100%;@media ","{display:none;}"],d.ZP.color.white,d.ZP.mediaQueries.mobileOnly),te=(0,l.ZP)(z.Z).attrs({size:"medium",color:d.ZP.color.white}).withConfig({displayName:"Header__StyledUsername",componentId:"sc-1pu75va-7"})([""]);function oe(e){var t=e.title,o=e.user,n=e.isPlaying,r=e.showcaseId,a=(0,p.gV)(),s=(0,L.Ab)({name:"@".concat(null===o||void 0===o?void 0:o.username)}),c=(0,T.useSpring)({opacity:n?1:0});return(0,i.jsxs)(q,{style:c,children:[(0,i.jsx)(K,{children:(0,i.jsx)(G,{})}),(0,i.jsx)(W,{children:(0,i.jsx)(A.ZP,{as:"h1",variant:"h3",color:d.ZP.color.white,children:t})}),(0,i.jsxs)(X,{$displayShowcaseLikeButton:a.showcaseLikeButton,children:[a.showcaseLikeButton&&(0,i.jsx)(C,{showcaseId:r}),(0,i.jsx)(N,{showcaseId:r})]}),(0,i.jsx)(J,{children:(0,i.jsx)(B.Z,{as:s.as,href:s.href,passHref:!0,children:(0,i.jsxs)(Y,{children:[(0,i.jsx)(ee,{src:null===o||void 0===o?void 0:o.profileImageUrl,alt:null===o||void 0===o?void 0:o.username}),(0,i.jsx)(te,{children:null===o||void 0===o?void 0:o.username})]})})})]})}oe.defaultProps={title:void 0,user:null,isPlaying:!1};var ne=oe,ie=o(228),re=o(10772),ae=o(57223),se=(0,l.ZP)(ae.Z.H4).withConfig({displayName:"SerialNumber__StyledSerial",componentId:"sc-1jm1548-0"})(["font-size:14px;"]);function ce(e){var t=e.moment,o=(0,f.I_)(t),n=(0,f.GQ)(t);if(!o)return null;var r=(0,f.G7)({numerator:o,denominator:n,isRetired:(0,f.fh)(t)});return(0,i.jsx)(se,{as:"span",color:d.$_.white,variant:"alt",children:r})}ce.defaultProps={moment:null};var le=ce,de=l.ZP.div.withConfig({displayName:"Video__StyledRoot",componentId:"sc-1l233re-0"})(["position:fixed;top:0;left:0;width:100vw;height:100vh;@media ","{position:absolute;right:0;bottom:0;display:flex;justify-content:center;width:auto;height:100%;overflow:hidden;}"],d.ZP.mediaQueries.tablet),ue=(0,l.iv)(["opacity:1;visibility:visible;"]),pe=(0,l.iv)(["opacity:0;visibility:hidden;"]),fe=(0,l.ZP)(re.Z).withConfig({displayName:"Video__StyledVideo",componentId:"sc-1l233re-1"})(["height:100%;object-fit:cover;pointer-events:none;"," @media ","{width:auto;height:100%;overflow:hidden;object-fit:fill;}"],(function(e){return e.active?ue:pe}),d.ZP.mediaQueries.tablet),he=l.ZP.div.withConfig({displayName:"Video__StyledSerialWrapper",componentId:"sc-1l233re-2"})(["position:absolute;right:50%;bottom:8px;width:auto;height:auto;pointer-events:none;transform:translate(50%,-50%);"]);function ge(e){var t=e.src,o=e.index,n=e.machine,a=e.moments,c=(0,U.Z)().track,l=(0,s.useRef)(null),d=(0,r.Z)(n,2),u=d[0],p=d[1],f=u.context,h=f.total,g=f.pointer,m=u.matches({ready:"playing"})&&g===o,v=(0,ie.Z)().currentUser;(0,s.useEffect)((function(){m?(l.current.currentTime=0,l.current.play()):(l.current.currentTime=0,l.current.pause())}),[m,o]);var y=(0,s.useCallback)((function(){p("VIDEO_LOADED",{video:l.current,index:o})}),[o,p]),w=(0,s.useCallback)((function(){}),[]),b=(0,s.useCallback)((function(){var e,t,o=g===h-1;c(o?"showcasereel-ended":"showcasereel-item-finished",{spectatorID:null!==(e=null===v||void 0===v||null===(t=v.publicInfo)||void 0===t?void 0:t.dapperID)&&void 0!==e?e:"non-auth-user"}),p("SEEK",{pointer:o?0:g+1})}),[v,g,p,h,c]);return(0,i.jsxs)(de,{children:[(0,i.jsx)(fe,{ref:l,mp4:t,controls:!1,onCanPlay:y,onError:w,onEnded:b,playsInline:!0,muted:!0,autoPlay:!0,active:m}),m&&(0,i.jsx)(he,{children:(0,i.jsx)(le,{moment:a[o]})})]})}ge.defaultProps={index:0,moments:void 0};var me=ge,ve=l.ZP.div.withConfig({displayName:"Media__StyledRoot",componentId:"sc-1s7dpu3-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;flex:1;height:100%;pointer-events:none;@media ","{position:relative;}"],d.ZP.mediaQueries.tablet);function ye(e){var t=e.videos,o=e.machine,n=e.moments;return(0,i.jsx)(ve,{children:t.map((function(e,t){var r=e.id,a=e.src;return(0,i.jsx)(me,{src:a,machine:o,index:t,moments:n},r)}))})}ye.defaultProps={videos:[],moments:void 0};var we=ye,be=l.ZP.div.withConfig({displayName:"TitleScreen__StyledRoot",componentId:"sc-3keb4t-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;"]),xe=l.ZP.div.withConfig({displayName:"TitleScreen__StyledContent",componentId:"sc-3keb4t-1"})(["margin:0 60px;max-width:600px;text-align:center;"]),je={slow:{mass:1,tension:80,friction:26},fast:{mass:1,tension:350,friction:21}};function Pe(e){var t=e.title,o=e.start,n=(0,T.useSpring)({from:{opacity:0,transform:"translate3d(20px, 20px, 0px)"},to:[{config:je.slow,opacity:1,transform:"translate3d(0px, 0px, 0px)"},{config:je.fast,opacity:0,transform:"translate3d(-300px, 0px, 0px)",onRest:o}]}),r=(0,T.useSpring)({from:{opacity:0,transform:"translate3d(-20px, -20px, 0px)"},to:[{config:je.slow,opacity:1,transform:"translate3d(0px, 0px, 0px)"},{config:je.fast,opacity:0,transform:"translate3d(300px, 0px, 0px)"}]});return(0,i.jsx)(be,{children:(0,i.jsxs)(xe,{children:[(0,i.jsx)(T.animated.div,{style:n,children:(0,i.jsx)(ae.Z.H1,{as:"span",variant:"outline",color:d.ZP.color.white,children:"Showcase"})}),(0,i.jsx)(T.animated.div,{style:r,children:(0,i.jsx)(ae.Z.H2,{variant:"alt",color:d.ZP.color.white,children:t})})]})})}Pe.defaultProps={title:void 0,start:function(){}};var Oe=Pe,ke=o(159),Ze=o(85960);function Se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ie(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Se(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Ce=(0,l.iv)(["cursor:not-allowed;opacity:0.3;"]),_e=(0,l.iv)(["cursor:pointer;"]),Le=l.ZP.div.withConfig({displayName:"Controls__StyledRoot",componentId:"sc-9vqadz-0"})(["position:relative;z-index:9;display:flex;align-items:center;justify-content:center;padding:12px;height:100%;filter:drop-shadow(2px 4px 6px black);"," @media ","{padding:24px;}"],(function(e){var t=e.disabled;return Boolean(t)?Ce:_e}),d.ZP.mediaQueries.tablet);function Re(e){var t=e.machine,o=e.direction,n=(0,U.Z)().track,a=(0,r.Z)(t,2),c=a[0],l=a[1],d=c.context,u=d.total,p=d.pointer,f=!c.matches({ready:"playing"}),h={LEFT:0===p?u-1:p-1,RIGHT:p===u-1?0:p+1}[o],g=(0,s.useCallback)((function(){f||(n("showcasereel-next/previous-click"),l("SEEK",{pointer:h}))}),[f,h,l,n]),m={LEFT:(0,i.jsx)(Ze.Z.ArrowFlat,{color:"#fff"}),RIGHT:(0,i.jsx)(Ze.Z.ArrowFlat,{color:"#fff",flip:"x"})}[o];return(0,i.jsx)(Le,{role:"button",disabled:f,onClick:g,children:m})}function Ee(e){var t=(0,ke.Z)({},e);return(0,i.jsx)(Re,Ie(Ie({},t),{},{direction:"LEFT"}))}function De(e){var t=(0,ke.Z)({},e);return(0,i.jsx)(Re,Ie(Ie({},t),{},{direction:"RIGHT"}))}var Ne=(0,l.F4)(["0%{transform:translate3d(-50%,-50%,0) rotate(0deg);}100%{transform:translate3d(-50%,-50%,0) rotate(360deg);}"]),Te=(0,l.iv)(["animation:1200ms "," infinite;"],Ne),Be=l.ZP.div.withConfig({displayName:"Loader__StyledRoot",componentId:"i6fu05-0"})(["position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0);transform-origin:50% 50%;",""],Te);var Ae=function(e){var t=e.machine;return(0,r.Z)(t,1)[0].matches("loading")?(0,i.jsx)(Be,{children:(0,i.jsx)(Ze.Z.Spinner,{size:40,color:d.ZP.color.white})}):null},ze=(0,l.F4)(["0%{width:0;}100%{width:100%;}"]),He=(0,l.iv)(["width:0;"]),$e=(0,l.iv)(["width:100%;"]),Ue=(0,l.iv)([""," animation-fill-mode:forwards;"],(function(e){var t=e.duration;return(0,l.iv)(["animation:","s "," linear;"],t,ze)})),Me=l.ZP.div.withConfig({displayName:"ProgressBar__StyledRoot",componentId:"sc-8rfwk7-0"})(["position:relative;width:100%;height:12px;background-color:",";&::after{display:block;width:0;height:100%;background-color:",";content:'';","}"],d.ZP.color.black[700],d.ZP.color.brand[500],(function(e){var t=e.pointer,o=e.index,n=e.playing,i=e.ended;return o<t?$e:o>t?He:n&&o===t?Ue:i?$e:void 0}));function Ve(e){var t,o,n=e.index,a=e.machine,s=(0,r.Z)(a,2),c=s[0],l=s[1],d=null===c||void 0===c||null===(t=c.context)||void 0===t?void 0:t.playlist,u=null===c||void 0===c||null===(o=c.context)||void 0===o?void 0:o.pointer,p=null===d||void 0===d?void 0:d[n],f=null===p||void 0===p?void 0:p.duration,h=c.matches({ready:"playing"}),g=c.matches({ready:"ended"});return(0,i.jsx)(Me,{role:"button",pointer:u,index:n,duration:f,playing:h,ended:g,onClick:function(){u!==n&&l("SEEK",{pointer:n})}})}Ve.defaultProps={index:0};var Fe=Ve,Qe=l.ZP.div.withConfig({displayName:"Progress__StyledRoot",componentId:"sc-187ikmh-0"})(["display:grid;grid-template-columns:repeat(",",1fr);grid-gap:8px;width:100%;"],(function(e){return e.count}));function Ge(e){var t=e.videos,o=e.machine;return(0,i.jsx)(Qe,{count:t.length,children:t.map((function(e,t){var n=e.id;return(0,i.jsx)(Fe,{index:t,machine:o},n)}))})}Ge.defaultProps={videos:[]};var qe=Ge;function Ke(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function We(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(o),!0).forEach((function(t){(0,a.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ke(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Xe=l.ZP.div.withConfig({displayName:"VideoReel__StyledRoot",componentId:"sc-1bbwx53-0"})(["position:relative;display:flex;flex-direction:column;align-items:center;height:100%;background:url('/img/videoReel/bg-left.png') bottom left / 15% auto no-repeat,url('/img/videoReel/bg-right.png') center right / 15% auto no-repeat,url('/img/videoReel/bg-top.jpg') top center / 100% auto no-repeat,url('/img/videoReel/bg-bottom.jpg') bottom center / 100% auto no-repeat;@media ","{background:url('/img/videoReel/topshot.svg') bottom left / 7% auto no-repeat,url('/img/videoReel/bg-left.png') bottom left / 35% auto no-repeat,url('/img/videoReel/bg-right.png') top -85px right / 35% auto no-repeat,url('/img/videoReel/bg-top.jpg') top center / 100% auto no-repeat,url('/img/videoReel/bg-bottom.jpg') bottom center / 100% auto no-repeat;}"],d.ZP.mediaQueries.mobileOnly),Je=l.ZP.div.withConfig({displayName:"VideoReel__StyledActionClose",componentId:"sc-1bbwx53-1"})(["position:absolute;top:72px;right:24px;z-index:10;@media ","{top:10px;right:10px;}"],d.ZP.mediaQueries.tablet),Ye=l.ZP.div.withConfig({displayName:"VideoReel__StyledActionShare",componentId:"sc-1bbwx53-2"})(["position:absolute;right:24px;bottom:72px;z-index:10;display:grid;grid-template-columns:",";grid-gap:15px;@media ","{display:none;}"],(function(e){return e.$displayShowcaseLikeButton?"auto 1fr":"1fr"}),d.ZP.mediaQueries.tablet),et=l.ZP.div.withConfig({displayName:"VideoReel__StyledHeader",componentId:"sc-1bbwx53-3"})(["position:relative;z-index:2;margin-top:",";padding:32px 64px 24px 48px;width:100%;"],d.ZP.spacing[48]),tt=l.ZP.div.withConfig({displayName:"VideoReel__StyledPlayer",componentId:"sc-1bbwx53-4"})(["position:relative;z-index:1;display:flex;align-items:center;flex:1;justify-content:space-between;width:100%;"]),ot=l.ZP.div.withConfig({displayName:"VideoReel__StyledProgress",componentId:"sc-1bbwx53-5"})(["position:relative;z-index:2;margin-top:",";width:100%;"],d.ZP.spacing[24]);function nt(e){var t=e.title,o=e.moments,a=e.user,l=e.isOpen,m=e.closeModal,v=e.showcaseId,y=e.isCustomClose,w=(0,p.gV)();(0,s.useEffect)((function(){var e=function(){y&&m()};return c.default.events.on("routeChangeStart",e),function(){c.default.events.off("routeChangeStart",e)}}),[m,y]);var b=o.map((function(e){return{id:e.id,moment:e,src:(0,f.vl)(e,h.sz.BLACK_1080_1920)}})),j=(0,u.eO)(g,{context:{total:b.length},actions:We({},n)}),P=(0,r.Z)(j,2),O=P[0],k=P[1];return(0,i.jsx)(x.Z,{isOpen:l,onRequestClose:m,overlayStyle:{backgroundColor:d.ZP.color.trueBlack},contentStyle:{overflow:"hidden",width:"100vw",maxWidth:"100vw",height:"100vh",backgroundColor:d.ZP.color.trueBlack},children:(0,i.jsxs)(Xe,{children:[(0,i.jsx)(Je,{children:(0,i.jsx)(Z,{closeModal:m})}),(0,i.jsxs)(Ye,{$displayShowcaseLikeButton:w.showcaseLikeButton,children:[w.showcaseLikeButton&&(0,i.jsx)(C,{showcaseId:v}),(0,i.jsx)(N,{showcaseId:v})]}),(0,i.jsx)(et,{children:(0,i.jsx)(ne,{title:t,user:a,isPlaying:O.matches({ready:"playing"}),closeModal:m,showcaseId:v})}),(0,i.jsxs)(tt,{children:[(0,i.jsx)(Ee,{machine:j}),(0,i.jsx)(we,{videos:b,machine:j,moments:o}),O.matches({ready:"initialized"})&&(0,i.jsx)(Oe,{title:t,start:function(){return k("START")}}),(0,i.jsx)(De,{machine:j}),(0,i.jsx)(Ae,{machine:j})]}),(0,i.jsx)(ot,{children:(0,i.jsx)(qe,{videos:b,machine:j})})]})})}nt.defaultProps={moments:[],title:"",user:{},isOpen:!1,closeModal:function(){},isCustomClose:!1};var it=nt},75662:function(e,t,o){var n=o(92809),i=o(85893),r=o(8132),a=o(67294),s=o(8997),c=o(34859);function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u=(0,s.ZP)(c.Z).withConfig({displayName:"BasicButton__StyledButton",componentId:"rwqg2g-0"})(["display:inline-block;margin:0;padding:0;font:inherit;color:inherit;"]);function p(e){var t=e.children,o=e.forwardedRef,n=(0,r.Z)(e,["children","forwardedRef"]);return(0,i.jsx)(u,d(d({},n),{},{ref:o,children:t}))}p.defaultProps={forwardedRef:void 0},t.Z=a.forwardRef((function(e,t){return(0,i.jsx)(p,d(d({},e),{},{forwardedRef:t}))}))}}]);